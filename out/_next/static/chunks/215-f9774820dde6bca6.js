"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[215],{6075:function(e,n,r){r.d(n,{Z:function(){return y}});var t=r(4051),o=r.n(t),i=r(5893),l=r(8790),u=r(5021),a=r(9727),c=r(331),s=r(7294),d=r(1163);function f(e){var n=e.rText,r=e.lText,t=e.width,o=e.rBold,u=e.lBold;return(0,i.jsxs)(l.kC,{align:"center",gap:"1",wrap:"wrap",justify:"space-between",w:null!==t&&void 0!==t?t:"100%",children:[(0,i.jsxs)(l.xv,{fontWeight:o?"bold":"normal",children:[" ",n]}),(0,i.jsx)(l.xv,{fontWeight:u?"bold":"normal",children:r})]})}var p=r(4781),x=r(6107),h=r(7470);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function g(e,n,r,t,o,i,l){try{var u=e[i](l),a=u.value}catch(c){return void r(c)}u.done?n(a):Promise.resolve(a).then(t,o)}function m(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var i=e.apply(n,r);function l(e){g(i,t,o,l,u,"next",e)}function u(e){g(i,t,o,l,u,"throw",e)}l(void 0)}))}}function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i=[],l=!0,u=!1;try{for(r=r.call(e);!(l=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);l=!0);}catch(a){u=!0,o=a}finally{try{l||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var n=e.plan,r=e.setCheckout;return(0,i.jsxs)(l.kC,{flexDir:"column",gap:"4",children:[n&&(0,i.jsxs)(l.kC,{flexDir:"column",w:{base:"200px",md:"500px"},py:"2",px:{base:"2",md:"6"},bg:"green.100",boxShadow:"md",borderRadius:"lg",gap:"2",color:"green.900",fontSize:{base:"lg",md:"xl"},children:[(0,i.jsx)(l.xv,{fontWeight:"bold",fontSize:{base:"xl",md:"2xl"},textAlign:"center",children:null===n||void 0===n?void 0:n.label}),(0,i.jsx)(f,{lBold:!0,lText:n.price,rText:"\u0631\u064a\u0627\u0644 \u0633\u0639\u0648\u062f\u064a"}),(0,i.jsx)("hr",{style:{border:"1px solid white"}}),(0,i.jsx)(f,{lBold:!0,lText:n.usd,rText:"\u062f\u0648\u0644\u0627\u0631 \u0627\u0645\u0631\u064a\u0643\u064a"})]}),(0,i.jsx)(u.Vv,{options:{"client-id":"AYTCP0tc6Sc1UURcx0uQtvtuUOhQJIXBoTyuBxShH5IllqUuYKYvgz6mTc3qS543O-6MqVNSk-M40s-P"},children:(0,i.jsx)(j,{plan:n,setCheckout:r})})]})}function j(e){var n=e.setCheckout,r=e.plan,t=b((0,u.Up)(),1)[0].isPending,l=(0,c.oR)((function(e){return e.user})),f=(0,c.oR)((function(e){return e.setUser})),v=function(){return n(null)},g=(0,s.useState)(!1),y=g[0],j=g[1],w=(0,d.useRouter)();function S(e){return k.apply(this,arguments)}function k(){return k=m(o().mark((function e(n){var t,i,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:{},i=u.length>2&&void 0!==u[2]?u[2]:r.usd.toString(),j(!0),e.next=4,(0,x._)({url:"/payments/".concat(null===l||void 0===l?void 0:l._id),data:{priceId:null===r||void 0===r?void 0:r._id,category:null===r||void 0===r?void 0:r.category,userId:null===l||void 0===l?void 0:l._id,paid:+i,paypal:t,isFailed:n},method:"post",successToast:"\u062a\u0645 \u0627\u0644\u0627\u0634\u062a\u0631\u0627\u0643 \u0628\u0646\u062c\u0627\u062d"});case 4:return j(!1),e.next=7,(0,h.BT)(l._id,f);case 7:"meal"===(null===r||void 0===r?void 0:r.category)?w.replace("/meals"):v();case 8:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function C(){return(C=m(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.jsxs)(i.Fragment,{children:[(t||y)&&(0,i.jsx)(p.Z,{}),(0,i.jsx)(a.x,{onClick:v,client:!0,path:"/pricing"}),(0,i.jsx)(u.ch,{style:{layout:"vertical",shape:"pill"},onCancel:v,onError:function(e){return C.apply(this,arguments)},createOrder:function(e,n){return n.order.create({purchase_units:[{amount:{value:r.usd.toString()}}],application_context:{brand_name:"KetoStyle"}})},onApprove:function(){var e=m(o().mark((function e(n,r){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.order.capture();case 2:t=e.sent,S(!1,{orderId:t.id,payer:t.payer,method:n.paymentSource,status:t.status},t.purchase_units[0].amount.value);case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()})]})}},3412:function(e,n,r){r.d(n,{Z:function(){return s}});var t=r(5893),o=r(1163),i=r(7294),l=r(4781),u=r(331),a=r(5110),c=r(5832);function s(e,n){return function(){var r=(0,o.useRouter)(),s=(0,i.useState)(!0),d=s[0],f=s[1],p=(0,i.useState)(!1),x=p[0],h=p[1],v=(0,i.useState)(!1),g=v[0],m=v[1],b=(0,u.oR)((function(e){return e.user})),y=(0,u.oR)((function(e){return e.prices}));return(0,i.useEffect)((function(){if(b&&(null===y||void 0===y?void 0:y.length))if("pricing"===n)(0,a.b)(b,"meal")?r.replace("/"):f(!1);else if("meal"===n){if(!(0,a.b)(b,"meal"))return r.replace("/pricing"),void(0,c.Z)("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u0627\u0644\u0627\u0634\u062a\u0631\u0627\u0643 \u0641\u064a \u0628\u0627\u0642\u0627\u062a \u0627\u0644\u0643\u064a\u062a\u0648","info");f(!1)}else(0,a.b)(b,n)?h(!0):h(!1),f(!1);(null===y||void 0===y?void 0:y.length)&&!b&&("pricing"===n?(m(!0),f(!1)):r.replace("/"))}),[b,y]),d?(0,t.jsx)(l.Z,{}):(0,t.jsx)(e,{user:b,isSubscriped:x,vistor:g})}}},9508:function(e,n,r){r.d(n,{Z:function(){return l}});var t=r(5893),o=r(8790),i=r(5054);function l(e){var n=e.title,r=e.subTitle,l=e.children,u=e.submitButton;return(0,t.jsxs)(o.kC,{gap:"2",flexDir:"column",w:"100%",align:"center",children:[(0,t.jsx)(o.xv,{fontWeight:"bold",fontSize:"lg",children:r}),(0,t.jsxs)(o.kC,{flexDir:"column",w:"100%",align:"center",color:"orange.800",bg:"orange.100",p:"4",borderRadius:"lg",gap:"3",children:[(0,t.jsx)(o.xv,{fontSize:{base:"lg",md:"2xl"},fontWeight:"bold",children:n}),l,(0,t.jsxs)(i.zx,{my:"3",bg:"white",_hover:{bg:"orange.600",color:"orange.50"},_active:{bg:"orange.600",color:"orange.50"},isLoading:!u.price||u.isLoading,onClick:u.onClick,children:["\u0627\u0634\u062a\u0631\u0643 \u0627\u0644\u0627\u0646 \u0628 ",u.price," \u0631\u064a\u0627\u0644/\u0634\u0647\u0631\u064a\u064b\u0627"]})]})]})}},9727:function(e,n,r){r.d(n,{x:function(){return u}});var t=r(5893),o=r(5054),i=r(1163),l=r(155);function u(e){var n=e.path,r=e.client,u=e.onClick,a=(0,i.useRouter)();return(0,t.jsx)(o.zx,{onClick:function(){return u?u():a.replace(n)},position:"absolute",dir:"ltr",size:{base:"sm",md:"md"},width:{base:"100px",md:"120px"},leftIcon:(0,t.jsx)(l.Eg1,{fontSize:"25px"}),top:{base:r?"120px":"-1",md:r?"80px":"30px"},left:{base:"12px",md:"15px"},colorScheme:"yellow",color:"yellow.800",children:"\u0631\u062c\u0648\u0639"})}},4781:function(e,n,r){r.d(n,{Z:function(){return l}});var t=r(5893),o=r(8790),i=r(9609);function l(e){var n=e.text;return(0,t.jsxs)(o.kC,{p:"3",flex:"1",justifyContent:"center",flexDir:"column",alignItems:"center",children:[(0,t.jsx)(i.$,{transform:"translate(-50%, -50%)",thickness:"7px",speed:"0.65s",w:"8rem",h:"8rem",emptyColor:"orange.200",color:"orange.700"}),n&&(0,t.jsx)(o.xv,{children:n})]})}},1228:function(e,n,r){r.d(n,{Z:function(){return u}});var t=r(5893),o=r(8790),i=r(894),l=r(8428);function u(e){var n=e.text,r=e.icon,u=e.image;return(0,t.jsxs)(o.kC,{w:{base:"200px",md:"300px"},align:"center",gap:"2",children:[r&&(0,t.jsx)(i.JO,{as:r,w:{base:8,md:12},h:{base:8,md:12},color:"orange.800"}),u&&(0,t.jsx)(l.Ee,{src:u,w:{base:8,md:12},borderRadius:"full",h:{base:8,md:12},alt:"keto"}),(0,t.jsx)(o.xv,{fontSize:{base:"lg",md:"xl"},fontWeight:"bold",children:n})]})}}}]);