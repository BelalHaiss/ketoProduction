"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{9711:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(4051),i=t.n(r),o=t(5893),a=t(8790),u=t(3789),s=t(4612),c=t(7294),l=t(331),f=t(8873),d=t(6107),m=t(7470);function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){v(e,n,t[n])}))}return e}var g=/(?=^\S*$)(?=.{8,})/,h=[{label:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u0642\u062f\u064a\u0645\u0629",re:g,name:"password",errorMessage:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u064a\u062c\u0628 \u0623\u0646 \u062a\u0643\u0648\u0646 \u0623\u0643\u062b\u0631 \u0645\u0646 8 \u0623\u062d\u0631\u0641 \u0648\u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u064a \u0645\u0633\u0627\u0641\u0629"},{label:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",re:g,name:"newPassword",errorMessage:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u064a\u062c\u0628 \u0623\u0646 \u062a\u0643\u0648\u0646 \u0623\u0643\u062b\u0631 \u0645\u0646 8 \u0623\u062d\u0631\u0641 \u0648\u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u064a \u0645\u0633\u0627\u0641\u0629"}],b={password:"",newPassword:""},x={submitActive:!0,submitLoading:!1,loadingText:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"};function y(e){var n=e.id,t=void 0===n?"":n,r=e.isAdminUpdate,i=void 0!==r&&r,l=function(){A("none"),I(x),j(b),C(b),D(!1)},d=function(e){var n=e.target,t=n.name,r=n.value;D(!0),j(p({},w,v({},t,r))),A("flex"),i&&(g.test(r)?C(p({},O,v({},t,"fine"))):C(p({},O,v({},t,""))));var o=h.find((function(e){return e.name===t}));o&&(o.re.test(r)?C(p({},O,v({},t,"fine"))):C(p({},O,v({},t,""))))},y=(0,c.useState)(b),w=y[0],j=y[1],S=(0,c.useState)(b),O=S[0],C=S[1],P=(0,c.useState)("none"),k=P[0],A=P[1],_=(0,c.useState)(x),B=_[0],I=_[1],E=(0,c.useState)(!1),Z=E[0],D=E[1];return(0,c.useEffect)((function(){return i&&O.password?I(p({},B,{submitActive:!0})):i&&!O.password?I(p({},B,{submitActive:!1})):void(O.password&&O.newPassword?I(p({},B,{submitActive:!0})):I(p({},B,{submitActive:!1})))}),[O]),(0,o.jsxs)(a.kC,{p:"2",flexDir:"column",gap:"3",layerStyle:"flexCenter",children:[(0,o.jsx)(a.xv,{mb:"4",fontSize:"xl",color:"orange.800",fontWeight:"bold",children:"\u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"}),h.map((function(e,n){if(!i||1!==n)return(0,o.jsxs)(u.NI,{isInvalid:!!Z&&!O[e.name],children:[(0,o.jsxs)(s.BZ,{children:[(0,o.jsx)(s.Ui,{w:"160px",color:"white",bg:"orange.500",children:i?"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631":e.label}),(0,o.jsx)(s.II,{onChange:d,type:"password",_placeholder:{color:"gray.300"},variant:"outline",errorBorderColor:"crimson",name:e.name,focusBorderColor:"orange.500",value:w[e.name]})]}),(0,o.jsxs)(u.J1,{children:[" ",e.errorMessage," "]})]},n)})),(0,o.jsx)(f.Z,{display:k,onReset:l,onSubmit:function(){(0,m.Cp)(w,t,i),l()},submitButton:B})]})}function w(e,n,t,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void t(c)}u.done?n(s):Promise.resolve(s).then(r,i)}function j(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){w(o,r,i,a,u,"next",e)}function u(e){w(o,r,i,a,u,"throw",e)}a(void 0)}))}}function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){S(e,n,t[n])}))}return e}var C={submitActive:!0,submitLoading:!1,loadingText:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"},P=[{label:"\u0627\u0644\u0627\u0633\u0645",name:"name",type:"text",errorMessage:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0631\u0643 \u0627\u0644\u0627\u0633\u0645 \u0641\u0627\u0631\u063a\u0627"},{label:"\u0627\u0633\u0645 \u0627\u0644\u0639\u0627\u0626\u0644\u0629",name:"lastName",type:"text",errorMessage:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0631\u0643 \u0627\u0644\u0627\u0633\u0645 \u0641\u0627\u0631\u063a\u0627"},{label:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a ",name:"email",re:/^([a-zA-Z0-9_\-?\.?]+)@([a-zA-Z]){3,}\.([a-zA-Z]){2,5}$/,errorMessage:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u063a\u064a\u0631 \u0635\u062d\u064a\u062d",type:"text"},{label:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",name:"phone",type:"number"}];var k=function(e){var n=e.user,t=e.isAdminUpdate,r=void 0!==t&&t,m=function(e,n){_(O({},A,S({},e,""===n?"":"fine")))},v=function(){E(!1),W("none"),R(C)},p=function(e){var n=e.target,t=n.name,r=n.value;w(O({},x,S({},t,r))),E(!0);var i=P.find((function(e){return e.name===t}));i&&(i.re?i.re.test(r)?m(t,"fine"):m(t,""):m(t,r?"fine":""))},g=(0,l.oR)((function(e){return e.setUser})),h=(0,l.oR)((function(e){return e.user})),b=(0,c.useState)(n.profile),x=b[0],w=b[1],k=(0,c.useState)(n.profile),A=k[0],_=k[1],B=(0,c.useState)(!1),I=B[0],E=B[1],Z=(0,c.useState)("none"),D=Z[0],W=Z[1],T=(0,c.useState)(C),U=T[0],R=T[1];function z(){return(z=j(i().mark((function e(){var t,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R((function(e){return O({},e,{submitLoading:!0})})),x.password&&delete x.password,t={method:"patch",data:x,successToast:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d",errorToast:"\u062a\u0645 \u0627\u062f\u062e\u0627\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u062e\u0627\u0637\u0626\u0629"},!r){e.next=6;break}return(0,d._)(O({url:"admin/account/"+n._id+"?path=admin"},t)),e.abrupt("return",v());case 6:return e.next=8,(0,d._)(O({url:"/users/account/"+n._id},t));case 8:(o=e.sent)&&g(o),v();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){for(var e in A){if(""===A[e]||0===A[e]){R((function(e){return O({},e,{submitActive:!1})}));break}R((function(e){return O({},e,{submitActive:!0})})),W("flex")}}),[A]),(0,c.useEffect)((function(){w(n.profile),_(n.profile)}),[n]),(0,o.jsxs)(a.kC,{sx:{"div > div":{right:"unset",left:"10px"}},maxW:"700px",mx:"auto",gap:"3",flexDir:"column",children:[P.map((function(e,t){return n.role&&"phone"===e.name?null:(0,o.jsxs)(u.NI,{isInvalid:""===A[e.name],children:[(0,o.jsxs)(s.BZ,{children:[(0,o.jsx)(s.Ui,{w:{base:"120px",md:"160px"},bg:"orange.500",color:"white",children:e.label}),(0,o.jsx)(s.II,{onChange:p,type:e.type,_placeholder:{color:"gray.300"},variant:"outline",errorBorderColor:"crimson",name:e.name,focusBorderColor:"orange.500",value:x[e.name]})]}),(0,o.jsxs)(u.J1,{children:[" ",e.errorMessage," "]})]},t)})),(0,o.jsx)(f.Z,{onReset:function(){(null===h||void 0===h?void 0:h.role)?w(n.profile):w(null===h||void 0===h?void 0:h.profile),_(n.profile),W("none"),E(!1),R(C)},onSubmit:function(){return z.apply(this,arguments)},display:D&&I?"flex":"none",submitButton:U}),(0,o.jsx)(y,{isAdminUpdate:r,id:n._id})]})}},2946:function(e,n,t){t.d(n,{Z:function(){return O}});var r=t(4051),i=t.n(r),o=t(5893),a=t(8790),u=t(3789),s=t(1391),c=t(4612),l=t(7294),f=t(331),d=t(8873),m=t(1018),v=t(6107);function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e,n,t,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void t(c)}u.done?n(s):Promise.resolve(s).then(r,i)}function h(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){g(o,r,i,a,u,"next",e)}function u(e){g(o,r,i,a,u,"throw",e)}a(void 0)}))}}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){b(e,n,t[n])}))}return e}var y={submitActive:!0,submitLoading:!1,loadingText:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"},w=[{label:"  \u0644\u0627 \u064a\u0648\u062c\u062f \u0646\u0634\u0627\u0637",value:"sedentary"},{label:"  \u0646\u0634\u0627\u0637 \u062e\u0641\u064a\u0641 (\u0627 - 3 \u064a\u0648\u0645/ \u0627\u0633\u0628\u0648\u0639)",value:"light"},{label:"  \u0646\u0634\u0627\u0637 \u0645\u062a\u0648\u0633\u0637 (3 - 5 \u064a\u0648\u0645/ \u0627\u0633\u0628\u0648\u0639)",value:"moderate"},{label:"  \u0646\u0634\u064a\u0637 (6 - 7 \u064a\u0648\u0645/ \u0627\u0633\u0628\u0648\u0639)",value:"active"}],j=[{label:"\u0627\u0631\u064a\u062f \u0627\u0646\u0642\u0627\u0635 \u0648\u0632\u0646\u064a",value:"min"},{label:"\u0627\u0631\u064a\u062f \u0625\u0646\u0642\u0627\u0635 \u0627\u0643\u0628\u0631 \u0648\u0632\u0646 \u0645\u0645\u0643\u0646",value:"max"}];var S,O=(S=function(e){var n=e.user,t=e.isAdminUpdate,r=(e.shouldRender,function(e,n){A(x({},k,b({},e,""===n?"":"fine")))}),p=function(e){return e.desiredWeight===n.measurements.desiredWeight&&e.weight===n.measurements.weight?e:x({},e,{weightUpdateDate:new Date})},g=function(){F(!1),X("none"),H(y)},S=function(e){var n=e.target,t=n.name,i=n.value;I((function(e){return x({},e,b({},t,+i))})),F(!0);var o=m.Ol.find((function(e){return e.name===t}));o&&(+i>=o.min&&+i<=o.max?(r(t,"fine"),"weight"===t&&L("fine")):(r(t,""),"weight"===t&&L(""))),"desiredWeight"!==t&&"weight"!==t||O(t,+i)},O=function(e,n){"weight"!==e?"desiredWeight"===e&&(n<=B.weight&&n>=40?r(e,"fine"):r(e,"")):n>=B.desiredWeight&&B.desiredWeight>=40?r("desiredWeight","fine"):r("desiredWeight","")},C=(0,f.oR)((function(e){return e.setUser})),P=(0,l.useState)(n.measurements),k=P[0],A=P[1],_=(0,l.useState)(n.measurements),B=_[0],I=_[1],E=(0,l.useState)(n.physicalActivity),Z=E[0],D=E[1],W=(0,l.useState)(n.willing),T=W[0],U=W[1];(0,l.useEffect)((function(){I(n.measurements),A(n.measurements),D(n.physicalActivity),U(n.willing)}),[n]);var R=(0,l.useState)(""),z=R[0],L=R[1],M=(0,l.useState)(!1),N=M[0],F=M[1],J=(0,l.useState)("none"),$=J[0],X=J[1],q=(0,l.useState)(y),G=q[0],H=q[1];function K(){return(K=h(i().mark((function e(){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H((function(e){return x({},e,{submitLoading:!0})})),r={method:"patch",data:{measurements:p(B),physicalActivity:Z,willing:T},successToast:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d",errorToast:"\u062d\u062f\u062b \u062e\u0637\u0627 \u0628\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627"},!t){e.next=6;break}return(0,v._)(x({url:"/admin//measure/"+n._id+"?path=admin"},r)),g(),e.abrupt("return");case 6:return e.next=8,(0,v._)(x({url:"/users/measure/"+n._id},r));case 8:(o=e.sent)&&C(o),g();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,l.useEffect)((function(){for(var e in k){if(""===k[e]||0===k[e]){H((function(e){return x({},e,{submitActive:!1})}));break}H((function(e){return x({},e,{submitActive:!0})})),X("flex")}}),[k]),(0,l.useEffect)((function(){"fine"===z||k.weight?r("weight","fine"):r("weight","")}),[z]),(0,o.jsxs)(a.kC,{sx:{"div > div":{right:"unset",left:"10px"}},maxW:"700px",mx:"auto",gap:"3",flexDir:"column",children:[!t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u.NI,{children:[(0,o.jsx)(u.lX,{fontSize:"xl",htmlFor:"activity",children:"\u0645\u062f\u0649 \u0646\u0634\u0627\u0637\u0643 \u0627\u0644\u0628\u062f\u0646\u064a \u0627\u0644\u064a\u0648\u0645\u064a"}),(0,o.jsx)(s.Ph,{id:"activity",bg:"orange.200",color:"gray.800",value:Z,onChange:function(e){e.target.value&&(F(!0),D(e.target.value))},children:w.map((function(e){var n=e.label,t=e.value;return(0,o.jsx)("option",{style:{backgroundColor:Z===t?"DodgerBlue":""},value:t,children:n},t)}))})]}),(0,o.jsxs)(u.NI,{children:[(0,o.jsx)(u.lX,{fontSize:"xl",htmlFor:"activity",children:"\u0645\u062f\u0649 \u0625\u0633\u062a\u0639\u062f\u0627\u062f\u0643 \u0644\u0623\u0646\u0642\u0627\u0635 \u0627\u0644\u0648\u0632\u0646"}),(0,o.jsx)(s.Ph,{id:"activity",bg:"orange.200",color:"gray.800",value:T,onChange:function(e){e.target.value&&(F(!0),U(e.target.value))},children:j.map((function(e){var n=e.label,t=e.value;return(0,o.jsx)("option",{style:{backgroundColor:T===t?"DodgerBlue":""},value:t,children:n},t)}))})]})]}),m.Ol.map((function(e,n){return(0,o.jsxs)(u.NI,{isInvalid:""===k[e.name],children:[(0,o.jsxs)(c.BZ,{children:[(0,o.jsx)(c.Ui,{w:"160px",bg:"orange.500",color:"white",children:e.value}),(0,o.jsx)(c.II,{onChange:S,type:"number",_placeholder:{color:"gray.300"},variant:"outline",errorBorderColor:"crimson",name:e.name,focusBorderColor:"orange.500",value:0===B[e.name]?"":B[e.name],placeholder:e.label})]}),(0,o.jsxs)(u.J1,{children:[" ",e.errorMessage," "]})]},n)})),(0,o.jsx)(d.Z,{onReset:function(){A(n.measurements),I(n.measurements),D(n.physicalActivity),L(""),X("none"),F(!1),H(y)},onSubmit:function(){return K.apply(this,arguments)},display:$&&N?"flex":"none",submitButton:G})]})},function(e){var n=(0,l.useState)(!1),t=n[0],r=n[1];return(0,l.useEffect)((function(){e.shouldRender?r(!0):r(!1)}),[e]),t?(0,o.jsx)(S,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){p(e,n,t[n])}))}return e}({},e)):(0,o.jsx)(o.Fragment,{children:" "})})},8873:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(5893),i=t(8790),o=t(5054);function a(e){var n=e.onReset,t=void 0===n?function(){}:n,a=e.onSubmit,u=void 0===a?function(){}:a,s=e.display,c=void 0===s?"none":s,l=e.submitButton,f=void 0===l?{submitActive:!1,submitLoading:!1,loadingText:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}:l;return(0,r.jsxs)(i.kC,{display:c,my:"2",align:"center",w:"100%",justify:"space-around",children:[(0,r.jsx)(o.zx,{w:{base:"120px",md:"200px"},colorScheme:"yellow",onClick:t,children:"\u0627\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a"}),(0,r.jsx)(o.zx,{isLoading:f.submitLoading,loadingText:f.loadingText,disabled:!f.submitActive,w:{base:"120px",md:"200px"},colorScheme:"green",onClick:u,children:"\u062d\u0641\u0638 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a"})]})}},4781:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(5893),i=t(8790),o=t(9609);function a(e){var n=e.text;return(0,r.jsxs)(i.kC,{p:"3",flex:"1",justifyContent:"center",flexDir:"column",alignItems:"center",children:[(0,r.jsx)(o.$,{transform:"translate(-50%, -50%)",thickness:"7px",speed:"0.65s",w:"8rem",h:"8rem",emptyColor:"orange.200",color:"orange.700"}),n&&(0,r.jsx)(i.xv,{children:n})]})}}}]);