(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{747:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/meals",function(){return t(5451)}])},5451:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return $}});var r=t(5893),o=t(8790),a=t(7294),i=t(894),l=t(331),s=t(3750),c=t(8873),u=t(7470);function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){d(e,n,t[n])}))}return e}var x={submitActive:!1,submitLoading:!1,loadingText:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"},m={cups:0,date:(new Date).toLocaleDateString("en")};function p(e){var n=e.user,t=function(){h("none"),y(x)},d=((0,l.oR)((function(e){return e.setUser})),(0,a.useState)("none")),p=d[0],h=d[1],g=(0,a.useState)(!1),b=g[0],v=g[1],j=(0,a.useState)(x),w=j[0],y=j[1],S=(0,a.useState)(m),k=S[0],C=S[1],O=(0,a.useState)(m),D=O[0],z=O[1];return(0,a.useEffect)((function(){var e={isMount:!0};return(0,u.nF)(null===n||void 0===n?void 0:n._id,C,z,e),function(){e.isMount=!1}}),[]),(0,r.jsxs)(o.kC,{flexDir:"column",color:"orange.800",layerStyle:"flexCenter",gap:"3",p:"2",children:[(0,r.jsx)(o.xv,{fontSize:{base:"lg",md:"3xl"},fontWeight:"bold",children:"\u062d\u0627\u0633\u0628\u0629 \u0634\u0631\u0628 \u0627\u0644\u0645\u0627\u0621"}),(0,r.jsx)(o.xv,{fontSize:{base:"md",md:"lg"},fontWeight:"bold",children:"\u0642\u0645 \u0628\u0627\u0644\u0646\u0642\u0631 \u0639\u0644\u064a \u0627\u064a \u0643\u0648\u0628 \u0639\u0646\u062f \u0634\u0631\u0628\u0643 \u0644\u0643\u0627\u0633 \u0645\u0627\u0621 \u0648\u0627\u062d\u062f (250 \u0645\u0644)"}),(0,r.jsx)(o.kC,{gap:"2",_hover:{".active":{color:"blue.700",transform:"scale(1.2)",transition:"all .2s ease-in-out"}},cursor:"pointer",onClick:function(){k.cups>14||(h("flex"),C(f({},k,{cups:k.cups+1})),y(f({},w,{submitActive:!0})),v(!1),setTimeout((function(){v(!0)}),1500))},maxW:"400px",wrap:"wrap",layerStyle:"flexCenter",children:new Array(14).fill(0).map((function(e,n){return k.cups>=n+1?(0,r.jsx)(i.JO,{w:"50px",h:"50px",color:"blue.700",as:s.q8U},n):(0,r.jsx)(i.JO,{className:b&&k.cups===n?"active":"",w:"50px",h:"50px",color:"gray.200",as:s.q8U},n)}))}),(0,r.jsx)(c.Z,{display:p,onReset:function(){C(D),t()},onSubmit:function(){var e=k;e.cups>14&&(e.cups=14),(0,u.sd)(e,n,z),t()},submitButton:w})]})}var h=t(8428),g=t(2496);function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){b(e,n,t[n])}))}return e}var j={submitActive:!1,submitLoading:!1,loadingText:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"},w=[{value:"sleepy",label:"\u0646\u0639\u0627\u0633"},{value:"moody",label:"\u0645\u062a\u0642\u0644\u0628"},{value:"happy",label:"\u0633\u0639\u064a\u062f"},{value:"tired",label:"\u0645\u062a\u0639\u0628"},{value:"ignore",label:"\u0644\u0627 \u0645\u0628\u0627\u0644\u064a"},{value:"clear",label:"\u0635\u0627\u0641\u064a"},{value:"active",label:"\u0646\u0634\u064a\u0637"}],y=[{value:"headache",label:"\u0635\u062f\u0627\u0639"},{value:"bloating",label:"\u0627\u0646\u062a\u0641\u0627\u062e \u0627\u0644\u0645\u0639\u062f\u0629"},{value:"stomach",label:"\u0627\u0644\u0645 \u0627\u0644\u0645\u0639\u062f\u0629"},{value:"thirsty",label:"\u0639\u0637\u0634"},{value:"disgust",label:"\u0634\u0639\u0648\u0631 \u063a\u062b\u064a\u0627\u0646"},{value:"smell",label:"\u0631\u0627\u0626\u062d\u0629 \u0641\u0645 \u0643\u0631\u064a\u0647\u0629"},{value:"constipation",label:"\u0627\u0645\u0633\u0627\u0643 \u0627\u0644\u0645\u0639\u062f\u0629"}],S={mood:"",symptoms:""};function k(e){var n=e.user,t=function(){C("none"),z(j)},i=function(e,n){d(v({},s,b({},e,n))),z(v({},D,{submitActive:!0})),C("flex")},l=(0,a.useState)(S),s=l[0],d=l[1],f=(0,a.useState)(S),x=f[0],m=f[1],p=(0,a.useState)("none"),k=p[0],C=p[1],O=(0,a.useState)(j),D=O[0],z=O[1],E=(0,a.useState)(!1),P=E[0],R=E[1];(0,g.r)(P?{url:"/users/status/".concat(n._id),method:"post",data:{symptoms:s.symptoms,mood:s.mood,user:n._id,date:(new Date).toLocaleDateString("en")},successToast:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d"}:null,d,{onRequest:function(){return R(!1)},onSuccess:function(e){t(),m(e)}});return(0,a.useEffect)((function(){var e={current:!0};return(0,u.lR)(null===n||void 0===n?void 0:n._id,d,e,m),function(){e.current=!1}}),[]),(0,r.jsxs)(o.kC,{bg:"orange.100",flexDir:"column",color:"orange.800",layerStyle:"flexCenter",gap:"3",p:"2",children:[(0,r.jsx)(o.xv,{fontSize:{base:"lg",md:"3xl"},fontWeight:"bold",children:"\u062d\u0627\u0644\u062a\u0643 \u0627\u0644\u0645\u0632\u0627\u062c\u064a\u0629"}),(0,r.jsx)(o.xv,{fontSize:{base:"md",md:"lg"},children:"\u0646\u0648\u062f \u0645\u0639\u0631\u0641\u0629 \u062d\u0627\u0644\u062a\u0643 \u0627\u0644\u0645\u0632\u0627\u062c\u064a\u0629 \u0644\u0647\u0630\u0627 \u0627\u0644\u064a\u0648\u0645 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a)"}),(0,r.jsxs)(o.kC,{w:"100%",flexDir:"column",children:[(0,r.jsx)(o.xv,{px:"4",fontSize:{base:"md",md:"xl"},fontWeight:"bold",children:"\u0645\u0632\u0627\u062c\u0643 \u0644\u0647\u0630\u0627 \u0627\u0644\u064a\u0648\u0645"}),(0,r.jsx)(o.kC,{w:"100%",gap:"1",my:"3",wrap:"wrap",children:w.map((function(e){return(0,r.jsxs)(o.kC,{gap:"2",align:"center",flexDir:"column",w:"90px",cursor:"pointer",children:[(0,r.jsx)(h.Ee,{cursor:"pointer",src:"/home/status/"+e.value+".svg",alt:e.value,w:"50px",onClick:function(){return i("mood",e.value)},borderRadius:s.mood===e.value?"20%":"initial",transform:s.mood===e.value?"scale(1.2)":"none",bg:s.mood===e.value?"yellow.600":"transparent",_hover:{transform:"scale(1.2)",transition:"all .2s ease-in-out",bg:"yellow.600",borderRadius:"20%"}}),(0,r.jsx)(o.xv,{textAlign:"center",fontSize:{base:"md",md:"lg"},children:e.label})]},e.value)}))})]}),(0,r.jsxs)(o.kC,{w:"100%",gap:"1",flexDir:"column",children:[(0,r.jsx)(o.xv,{fontSize:{base:"md",md:"xl"},fontWeight:"bold",children:"\u0627\u0644\u0623\u0639\u0631\u0627\u0636 \u0644\u0647\u0630\u0627 \u0627\u0644\u064a\u0648\u0645"}),(0,r.jsx)(o.kC,{w:"100%",gap:"1",my:"3",wrap:"wrap",children:y.map((function(e){return(0,r.jsxs)(o.kC,{gap:"2",align:"center",flexDir:"column",w:"89px",children:[(0,r.jsx)(h.Ee,{cursor:"pointer",src:"/home/status/"+e.value+".svg",alt:e.value,w:"50px",onClick:function(){return i("symptoms",e.value)},borderRadius:s.symptoms===e.value?"20%":"initial",transform:s.symptoms===e.value?"scale(1.2)":"none",bg:s.symptoms===e.value?"yellow.600":"transparent",_hover:{transform:"scale(1.2)",transition:"all .2s ease-in-out",bg:"yellow.600",borderRadius:"20%"}}),(0,r.jsx)(o.xv,{textAlign:"center",fontSize:{base:"md",md:"lg"},children:e.label})]},e.value)}))})]}),(0,r.jsx)(c.Z,{display:k,onReset:function(){d(x),t()},onSubmit:function(){z(v({},D,{submitLoading:!0})),R(!0)},submitButton:D})]})}var C=t(1649),O=t(8584),D=t(6373);function z(e){var n=e.loading,t=e.docsCount,a=e.data,i=e.action;return n?(0,r.jsx)(o.kC,{w:"100%",align:"center",justify:"space-around",gap:"2",children:new Array(t).fill(0).map((function(e,n){return(0,r.jsx)(O.Od,{borderRadius:"xl",w:"190px",h:"250px"},n)}))}):(0,r.jsx)(o.kC,{align:"center",justify:"space-around",w:"100%",gap:"1",children:a.map((function(e,n){return(0,r.jsx)(D.E,{className:"next"===i?"nextAnimation":"prev"===i?"prevAnimation":"",meal:e},n)}))})}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){E(e,n,t[n])}))}return e}function R(e,n,t){var r=e-60,o=Math.floor(r/190);return n&&n(o),t&&t({start:0,end:o}),o}function _(e){var n=e.link,t=e.label,l=(0,a.useState)(R(window.innerWidth)),s=l[0],c=l[1],u=(0,a.useState)({current:1,docsNumbers:0}),d=u[0],f=u[1],x=(0,a.useState)([]),m=x[0],p=x[1],h=(0,a.useState)(!0),b=h[0],v=h[1],j=(0,a.useState)({start:0,end:0}),w=j[0],y=j[1],S=(0,a.useState)(""),k=S[0],O=S[1],D=(0,a.useState)(!0),E=D[0],_=D[1];(0,g.r)(E?{url:n+d.current,noErrorToast:!0}:null,null,{onRequest:function(){return _(!1)},onSuccess:function(e){var n=e.meals;p(m.concat(n)),f(P({},d,{docsNumbers:e.count})),R(window.innerWidth,c,1===d.current?y:null),d.current>1&&y({start:w.start+s,end:w.end+s}),v(!1)}});var W=function(){v(!0),c(R(window.innerWidth,c,y)),v(!1)};return(0,a.useEffect)((function(){return window.addEventListener("resize",W),function(){window.removeEventListener("resize",W)}}),[]),(0,r.jsxs)(o.kC,{w:"100%",overflow:"hidden",flexDir:"column",my:"4",gap:"2",children:[(0,r.jsx)(o.xv,{px:"4",fontSize:{base:"md",md:"xl"},fontWeight:"bold",children:t}),(0,r.jsxs)(o.kC,{justify:"space-between",bg:"orange.50",borderRadius:"xl",align:"center",py:"10px",h:"270px",w:"100%",children:[(0,r.jsx)(i.JO,{as:C.hjJ,onClick:function(){if(!b&&d.docsNumbers&&m.length&&!(w.end>=d.docsNumbers)){if(w.end<m.length&&(w.end+s<=m.length||m.length===d.docsNumbers))y({start:w.start+s,end:w.end+s});else{v(!0);var e=d.current+1;f(P({},d,{current:e})),_(!0)}O("next"),setTimeout((function(){O("")}),300)}},cursor:"pointer",w:"30px",h:"30px",color:!b&&d.docsNumbers&&(w.end<m.length||m.length<d.docsNumbers)?"orange.500":"orange.100"}),(0,r.jsx)(z,{action:k,loading:b,docsCount:s,data:m.slice(w.start,w.end)}),(0,r.jsx)(i.JO,{as:C.u1R,onClick:function(){!b&&d.docsNumbers&&0!==w.start&&(y({start:w.start-s,end:w.start}),O("prev"),setTimeout((function(){O("")}),300))},w:"30px",h:"30px",cursor:"pointer",color:!b&&d.docsNumbers&&w.start>0?"orange.500":"orange.200"})]})]})}function W(){return(0,r.jsxs)(o.kC,{py:"1",bg:"orange.100",align:"center",flexDir:"column",children:[(0,r.jsx)(o.xv,{color:"orange.800",fontSize:{base:"lg",md:"3xl"},fontWeight:"bold",children:"\u0642\u0645 \u0628\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0648\u062c\u0628\u0629 \u0627\u0644\u0644\u062a\u064a \u0633\u062a\u0627\u0643\u0644\u0647\u0627"}),(0,r.jsx)(_,{link:"/meals/query?time=breakfast&page=",label:"\u0648\u062c\u0628\u0627\u062a \u0627\u0644\u0627\u0641\u0637\u0627\u0631"}),(0,r.jsx)(_,{link:"/meals/query?time=lunch&page=",label:"\u0648\u062c\u0628\u0627\u062a \u0627\u0644\u063a\u062f\u0627\u0621"}),(0,r.jsx)(_,{link:"/meals/query?time=snack&page=",label:"\u0648\u062c\u0628\u0627\u062a \u0627\u0644\u062e\u0641\u064a\u0641\u0629"}),(0,r.jsx)(_,{link:"/meals/query?time=dinner&page=",label:"\u0648\u062c\u0628\u0627\u062a \u0627\u0644\u0639\u0634\u0627\u0621"})]})}var N=t(5054);function A(){return(0,r.jsxs)(o.kC,{w:"100%",flexDir:"column",p:"1",justify:"space-around",align:"center",children:[(0,r.jsx)("div",{className:"half_circle_loader"}),(0,r.jsxs)(o.kC,{w:"100%",mt:"5",justify:"space-around",align:"center",children:[(0,r.jsxs)(o.kC,{w:"45%",flexDir:"column",gap:"5",align:"center",children:[(0,r.jsx)(O.Od,{startColor:"purple.500",height:"5px",width:"100%"}),(0,r.jsx)(O.Od,{startColor:"red.500",height:"5px",width:"100%"}),(0,r.jsx)(O.Od,{startColor:"green.500",height:"5px",width:"100%"})]}),(0,r.jsxs)(o.kC,{w:"45%",flexDir:"column",gap:"5",align:"center",children:[(0,r.jsx)(O.Od,{height:"5px",width:"100%"}),(0,r.jsx)(O.Od,{height:"5px",width:"100%"}),(0,r.jsx)(O.Od,{height:"5px",width:"100%"}),(0,r.jsx)(O.Od,{height:"5px",width:"100%"})]})]})]})}var F=t(8152);function q(e){var n=e.label,t=e.energy,a=e.colorScheme,i=e.value;return(0,r.jsxs)(o.kC,{color:"orange.800",flexDir:"column",gap:"2",children:[(0,r.jsxs)(o.xv,{fontSize:"lg",fontWeight:"bold",children:[" ","\u0627\u062d\u062a\u064a\u0627\u062c\u0643 \u0645\u0646 ",n+" ".concat(t.total," \u062c\u0645")," "]}),(0,r.jsx)(F.Ex,{hasStripe:!0,isAnimated:!0,colorScheme:a,size:"xs",mx:"2",value:i,bg:a+".100"}),(0,r.jsx)(o.xv,{fontSize:"xs",children:t.total-t.actual<0?"\u0644\u0642\u062f \u0627\u0633\u062a\u0647\u0644\u0643\u062a \u0627\u0643\u062b\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645  (".concat(t.actual,") \u062c\u0645"):"\u0627\u0633\u062a\u0647\u0644\u0643\u062a ".concat(t.actual," \u0645\u062a\u0628\u0642\u064a \u0644\u0643 ").concat(t.total-t.actual," \u063a\u0645")})]})}var L=t(770);function T(e){return[{label:"\u0627\u0644\u0643\u0631\u0628\u0648\u0647\u064a\u062f\u0631\u0627\u062a",colorScheme:"purple",value:e.reduce((function(e,n){return e+ +n.carbs}),0)},{label:"\u0627\u0644\u0628\u0631\u0648\u062a\u064a\u0646\u0627\u062a",colorScheme:"red",value:e.reduce((function(e,n){return e+ +n.proteins}),0)},{label:"\u0627\u0644\u062f\u0647\u0648\u0646",colorScheme:"green",value:e.reduce((function(e,n){return e+ +n.fats}),0)}]}function B(e){var n=e.data;return(0,r.jsx)(o.kC,{w:"100%",flexDir:"column",gap:"3",align:"center",children:Object.keys(n).map((function(e,t){return(0,r.jsxs)(o.kC,{w:"100%",align:"center",justify:"space-around",children:[(0,r.jsxs)(o.xv,{pt:"2",color:"orange.800",fontSize:{base:"sm",md:"md"},fontWeight:"bold",children:["\u0648\u062c\u0628\u0627\u062a ",(0,L.Fw)(e)]}),(0,r.jsx)(o.kC,{align:"center",py:"2",px:"3",mt:"2",bg:"white",borderRadius:"xl",justify:"space-around",w:"75%",children:T(n[e]).map((function(e,n){return(0,r.jsxs)(o.Ct,{className:"energyBadge",fontSize:{base:"7px",md:"13px"},colorScheme:e.colorScheme,children:[" ","".concat(e.label," ").concat(e.value," \u062c\u0645")," "]},n)}))})]},t)}))})}var Z=t(830),M=t(3957);function J(e){var n=e.isOpen,t=e.onClose,a=e.mealsData;return(0,r.jsxs)(Z.u_,{isOpen:n,size:{base:"full",md:"6xl"},onClose:t,children:[(0,r.jsx)(Z.ZA,{}),(0,r.jsxs)(Z.hz,{children:[(0,r.jsxs)(Z.xB,{textAlign:"center",children:[" ","\u0627\u0644\u0648\u062c\u0628\u0627\u062a \u0627\u0644\u062a\u064a \u062a\u0645 \u062a\u0646\u0627\u0648\u0644\u0647\u0627 \u0627\u0644\u064a\u0648\u0645"]}),(0,r.jsx)(Z.ol,{}),(0,r.jsx)(Z.fe,{children:(0,r.jsxs)(M.mQ,{isFitted:!0,variant:"soft-rounded",colorScheme:"orange",children:[(0,r.jsxs)(M.td,{children:[(0,r.jsx)(M.OK,{children:"\u0648\u062c\u0628\u0627\u062a \u0627\u0644\u0641\u0637\u0648\u0631"}),(0,r.jsx)(M.OK,{children:"\u0648\u062c\u0628\u0627\u062a \u0627\u0644\u063a\u062f\u0627\u0621"}),(0,r.jsx)(M.OK,{children:"\u0648\u062c\u0628\u0627\u062a \u0627\u0644\u0639\u0634\u0627\u0621"}),(0,r.jsx)(M.OK,{children:"\u0648\u062c\u0628\u0627\u062a \u062e\u0641\u064a\u0641\u0629"})]}),(0,r.jsxs)(M.nP,{children:[(0,r.jsx)(M.x4,{children:(0,r.jsx)(o.kC,{wrap:"wrap",p:"1",gap:"2",children:a.breakfast.map((function(e,n){return(0,r.jsx)(D.E,{time:"breakfast",meal:e},n)}))})}),(0,r.jsx)(M.x4,{children:(0,r.jsx)(o.kC,{wrap:"wrap",p:"1",gap:"2",children:a.lunch.map((function(e,n){return(0,r.jsx)(D.E,{time:"lunch",meal:e},n)}))})}),(0,r.jsx)(M.x4,{children:(0,r.jsx)(o.kC,{wrap:"wrap",p:"1",gap:"2",children:a.dinner.map((function(e,n){return(0,r.jsx)(D.E,{time:"dinner",meal:e},n)}))})}),(0,r.jsx)(M.x4,{children:(0,r.jsx)(o.kC,{wrap:"wrap",p:"1",gap:"2",children:a.snack.map((function(e,n){return(0,r.jsx)(D.E,{time:"snack",meal:e},n)}))})})]})]})}),(0,r.jsx)(Z.mz,{children:(0,r.jsx)(N.zx,{colorScheme:"yellow",mr:3,onClick:t,children:"\u0627\u0644\u063a\u0627\u0621"})})]})]})}var K=t(8193);function I(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function U(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){I(e,n,t[n])}))}return e}function V(){return{total:100,actual:10}}function X(){var e=(0,l.oR)((function(e){return e.user})),n=(0,a.useState)(!0),t=n[0],s=n[1],c=(0,a.useState)(V),u=c[0],d=c[1],f=(0,a.useState)(V),x=f[0],m=f[1],p=(0,a.useState)(V),h=p[0],b=p[1],v=(0,a.useState)(V),j=v[0],w=v[1],y=(0,a.useState)(!0),S=y[0],k=y[1],C=(0,a.useState)(null),O=C[0],D=C[1],z=(0,a.useState)(!1),E=z[0],P=z[1];return(0,g.r)(S?{url:"/users/getmeal/".concat(e._id,"?date=").concat((new Date).toLocaleDateString("en"))}:null,D,{onRequest:function(){return k(!1)},onSuccess:function(e){var n=(0,L.v0)(e);m((function(e){return U({},e,{actual:+n.proteins.toFixed(0)})})),w((function(e){return U({},e,{actual:+n.carbs.toFixed(0)})})),b((function(e){return U({},e,{actual:+n.fats.toFixed(0)})})),d((function(e){return U({},e,{actual:+n.calories.toFixed(0)})})),s(!1)}}),(0,a.useEffect)((function(){var n=(0,L.WO)(e.willing,e.physicalActivity,e.measurements);d((function(e){return U({},e,{total:+n.calories.toFixed(0)})})),m((function(e){return U({},e,{total:+n.proteins.toFixed(0)})})),b((function(e){return U({},e,{total:+n.fats.toFixed(0)})})),w((function(e){return U({},e,{total:+n.carbs.toFixed(0)})}))}),[]),(0,a.useEffect)((function(){var e=document.getElementById("caloriesCanvas"),n=Math.PI/180;if(e){var t=u.actual/u.total*180+180,r=e.getContext("2d");r.beginPath(),r.lineWidth=9,r.strokeStyle="#FBD38D",r.arc(180,120,110,180*n,360*n,!1),r.stroke(),r.beginPath(),r.lineWidth=9,r.lineCap="round",r.strokeStyle="#7B341E",r.arc(180,120,110,180*n,t*n,!1),r.stroke()}}),[t,u]),(0,r.jsxs)(o.kC,{w:"100%",flexDir:"column",p:"1",align:"center",children:[(0,r.jsx)(o.xv,{color:"orange.800",fontSize:{base:"lg",lg:"3xl"},fontWeight:"semibold",children:"\u0633\u0639\u0631\u0627\u062a\u0643 \u0627\u0644\u062d\u0631\u0627\u0631\u064a\u0629 \u0644\u0647\u0630\u0627 \u0627\u0644\u064a\u0648\u0645"}),t&&(0,r.jsx)(A,{}),!t&&(0,r.jsxs)(o.kC,{position:"relative",children:[(0,r.jsx)("canvas",{id:"caloriesCanvas",width:"360",height:"180"}),(0,r.jsxs)(o.kC,{color:"orange.800",flexDir:"column",position:"absolute",top:"47px",right:"120",align:"center",children:[(0,r.jsx)(i.JO,{w:"8",h:"8",mb:"2",as:K.o$9}),(0,r.jsxs)(o.xv,{fontWeight:"bold",children:[" \u0627\u0633\u062a\u0647\u0644\u0643\u062a ",u.actual," \u062c\u0645"]}),(0,r.jsx)(o.xv,{children:u.total-u.actual<0?"\u0627\u0633\u062a\u0647\u0644\u0643\u062a \u0627\u0643\u062b\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645":" \u0645\u062a\u0628\u0642\u064a \u0644\u0643 ".concat(u.total-u.actual," \u062c\u0645")})]})]}),!t&&(0,r.jsxs)(o.kC,{w:"100%",gap:"10",align:"center",flexDir:{base:"column",lg:"row"},children:[(0,r.jsxs)(o.kC,{w:{base:"100%",lg:"48%"},gap:"3",flexDir:"column",children:[(0,r.jsx)(q,{energy:j,label:"\u0627\u0644\u0643\u0631\u0628\u0648\u0647\u064a\u062f\u0631\u0627\u062a",colorScheme:"purple",value:j.actual/j.total*100}),(0,r.jsx)(q,{energy:x,label:"\u0627\u0644\u0628\u0631\u0648\u062a\u064a\u0646\u0627\u062a",colorScheme:"red",value:x.actual/x.total*100}),(0,r.jsx)(q,{energy:h,label:"\u0627\u0644\u062f\u0647\u0648\u0646",colorScheme:"green",value:h.actual/h.total*100})]}),(0,r.jsxs)(o.kC,{w:{base:"100%",lg:"48%"},bg:"orange.200",flexDir:"column",borderRadius:"xl",p:"1",align:"center",boxShadow:"xl",children:[(0,r.jsxs)(o.kC,{w:"100%",align:"center",p:"1",justify:"space-around",children:[(0,r.jsx)(o.xv,{color:"orange.900",fontSize:{base:"md",md:"xl"},fontWeight:"bold",children:"\u0645\u062d\u062a\u0648\u064a \u0627\u0643\u0644\u0643 \u0644\u0647\u0630\u0627 \u0627\u0644\u064a\u0648\u0645"}),(0,r.jsx)(N.zx,{onClick:function(){return P(!0)},size:{base:"sm",md:"md"},colorScheme:"orange",children:"\u0639\u0631\u0636 \u0627\u0644\u0648\u062c\u0628\u0627\u062a"})]}),O&&(0,r.jsx)(B,{data:O})]}),(0,r.jsx)(J,{onClose:function(){return P(!1)},isOpen:E,mealsData:O})]})]})}var $=(0,t(3412).Z)((function(e){var n=e.user;return(0,a.useEffect)((function(){}),[]),(0,r.jsxs)(o.kC,{gap:"5",flexDir:"column",children:[(0,r.jsx)(X,{}),(0,r.jsx)(W,{}),(0,r.jsx)(p,{user:n}),(0,r.jsx)(k,{user:n})]})}),"meal")},3412:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(5893),o=t(1163),a=t(7294),i=t(4781),l=t(331),s=t(5110),c=t(5832);function u(e,n){return function(){var t=(0,o.useRouter)(),u=(0,a.useState)(!0),d=u[0],f=u[1],x=(0,a.useState)(!1),m=x[0],p=x[1],h=(0,a.useState)(!1),g=h[0],b=h[1],v=(0,l.oR)((function(e){return e.user})),j=(0,l.oR)((function(e){return e.prices}));return(0,a.useEffect)((function(){if(v&&(null===j||void 0===j?void 0:j.length))if("pricing"===n)(0,s.b)(v,"meal")?t.replace("/"):f(!1);else if("meal"===n){if(!(0,s.b)(v,"meal"))return t.replace("/pricing"),void(0,c.Z)("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u0627\u0644\u0627\u0634\u062a\u0631\u0627\u0643 \u0641\u064a \u0628\u0627\u0642\u0627\u062a \u0627\u0644\u0643\u064a\u062a\u0648","info");f(!1)}else(0,s.b)(v,n)?p(!0):p(!1),f(!1);(null===j||void 0===j?void 0:j.length)&&!v&&("pricing"===n?(b(!0),f(!1)):t.replace("/"))}),[v,j]),d?(0,r.jsx)(i.Z,{}):(0,r.jsx)(e,{user:v,isSubscriped:m,vistor:g})}}},770:function(e,n,t){"use strict";function r(e){var n=0,t=0,r=0,o=0;for(var a in e)e[a].map((function(e){n+=e.carbs,t+=e.fats,r+=e.proteins,o+=e.calories}));return{carbs:n,fats:t,proteins:r,calories:o}}function o(e,n,t){var r;return r=10*t.weight+6.25*t.height-5*t.age,r+="male"===t.sex?5:-161,r*=function(e){switch(e){case"sedentary":return 1.2;case"light":return 1.375;case"moderate":return 1.55;case"active":return 1.725}}(n),r=function(e,n,t){var r=e;return console.log(r,"inside net"),r-="male"===n?"max"===t?500:250:"max"===t?300:150}(r,t.sex,e),{calories:r,carbs:.05*r/4,fats:.7*r/9,proteins:.25*r/4}}function a(e){var n="";switch(e){case"breakfast":n="\u0627\u0644\u0627\u0641\u0637\u0627\u0631";break;case"dinner":n="\u0627\u0644\u0639\u0634\u0627\u0621";break;case"lunch":n="\u0627\u0644\u063a\u062f\u0627\u0621";break;case"snack":n="\u062e\u0641\u064a\u0641\u0629"}return n}t.d(n,{Fw:function(){return a},WO:function(){return o},v0:function(){return r}})},6373:function(e,n,t){"use strict";t.d(n,{E:function(){return u}});var r=t(5893),o=t(8790),a=t(8428),i=t(5054),l=t(7294),s=t(1163),c=t(331);function u(e){var n=e.meal,t=(e.width,e.size,e.className),u=e.time,d=(0,s.useRouter)(),f=(0,c.oR)((function(e){return e.setMealView})),x=(0,c.oR)((function(e){return e.user})),m=(0,l.useState)(!1),p=m[0],h=m[1];return(0,r.jsxs)(o.kC,{flexDir:"column",p:"1",bg:"orange.100",className:null!==t&&void 0!==t?t:"",onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},rounded:"xl",color:"orange.800",w:"190px",h:"250px",layerStyle:"flexCenter",children:[(0,r.jsx)(a.Ee,{src:n.image.url?n.image.url:"https://res.cloudinary.com/ketoar/image/upload/v1/".concat(n.image),alt:"meal",mb:"3",rounded:"3xl",w:"140px"}),p?(0,r.jsxs)(o.kC,{gap:"1",h:"35%",align:"center",flexDir:"column",children:[("admin"===(null===x||void 0===x?void 0:x.role)||(null===x||void 0===x?void 0:x._id)===n.addedBy)&&(0,r.jsx)(i.zx,{size:{base:"sm",md:"md"},onClick:function(){f(n),d.replace("/admin/addMeal?edit="+n._id)},colorScheme:"yellow",children:"\u062a\u0639\u062f\u064a\u0644"}),(0,r.jsx)(i.zx,{size:{base:"sm",md:"md"},colorScheme:"orange",w:"90%",onClick:function(){f(n),d.replace({pathname:"/mealView",query:{time:u||""}},"/mealView")},children:"\u062a\u062d\u0636\u064a\u0631 \u0627\u0644\u0648\u062c\u0628\u0629"})]}):(0,r.jsxs)(o.kC,{align:"center",gap:"1",h:"35%",flexDir:"column",children:[(0,r.jsx)(o.xv,{fontSize:{base:"md",md:"lg"},fontWeight:"bold",children:n.name.slice(0,19)}),(0,r.jsxs)(o.xv,{children:[" ",n.duration," \u062f\u0642\u0627\u0626\u0642"]}),(0,r.jsxs)(o.Ct,{colorScheme:"red",variant:"subtle",fontSize:"sm",rounded:"lg",px:"3",children:[n.calories," \u0633\u0639\u0631\u0647"]})]})]})}},2496:function(e,n,t){"use strict";t.d(n,{r:function(){return d}});var r=t(4051),o=t.n(r),a=t(7294),i=t(6107);function l(e,n,t,r,o,a,i){try{var l=e[a](i),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,o)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){l(a,r,o,i,s,"next",e)}function s(e){l(a,r,o,i,s,"throw",e)}i(void 0)}))}}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){c(e,n,t[n])}))}return e}function d(e,n,t){var r=(0,a.useState)(!1),l=r[0],c=r[1],d=(0,a.useRef)(!0);function f(){return(f=s(o().mark((function e(n,r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i._)(u({},n));case 2:(a=e.sent)&&d.current&&(t&&t.onSuccess&&t.onSuccess(a),r&&r(a),c(!0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.useEffect)((function(){return d.current=!0,e?(!function(e,n){f.apply(this,arguments)}(e,n),t&&t.onRequest&&t.onRequest()):c(!1),function(){d.current=!1}}),[e]),{data:l}}},8873:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(5893),o=t(8790),a=t(5054);function i(e){var n=e.onReset,t=void 0===n?function(){}:n,i=e.onSubmit,l=void 0===i?function(){}:i,s=e.display,c=void 0===s?"none":s,u=e.submitButton,d=void 0===u?{submitActive:!1,submitLoading:!1,loadingText:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}:u;return(0,r.jsxs)(o.kC,{display:c,my:"2",align:"center",w:"100%",justify:"space-around",children:[(0,r.jsx)(a.zx,{w:{base:"120px",md:"200px"},colorScheme:"yellow",onClick:t,children:"\u0627\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a"}),(0,r.jsx)(a.zx,{isLoading:d.submitLoading,loadingText:d.loadingText,disabled:!d.submitActive,w:{base:"120px",md:"200px"},colorScheme:"green",onClick:l,children:"\u062d\u0641\u0638 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a"})]})}},4781:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(5893),o=t(8790),a=t(9609);function i(e){var n=e.text;return(0,r.jsxs)(o.kC,{p:"3",flex:"1",justifyContent:"center",flexDir:"column",alignItems:"center",children:[(0,r.jsx)(a.$,{transform:"translate(-50%, -50%)",thickness:"7px",speed:"0.65s",w:"8rem",h:"8rem",emptyColor:"orange.200",color:"orange.700"}),n&&(0,r.jsx)(o.xv,{children:n})]})}}},function(e){e.O(0,[617,866,957,101,774,888,179],(function(){return n=747,e(e.s=n);var n}));var n=e.O();_N_E=n}]);