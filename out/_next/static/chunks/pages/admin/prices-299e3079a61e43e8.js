(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{3441:function(e,n,t){"use strict";t.d(n,{g:function(){return c}});var r=t(3789),a=t(2846),i=t(5031),s=t(7294);function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var u=["className","rows"],l=["h","minH","height","minHeight"],c=(0,a.Gp)(function(e,n){var t=(0,a.mq)("Textarea",e),c=(0,a.Lr)(e),d=c.className,f=c.rows,x=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(c,u),m=(0,r.Yp)(x),p=f?(0,i.CE)(t,l):t;return s.createElement(a.m$.textarea,o({ref:n,rows:f},m,{className:(0,i.cx)("chakra-textarea",d),__css:p}))});i.Ts&&(c.displayName="Textarea")},8033:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/prices",function(){return t(7580)}])},7580:function(e,n,t){"use strict";t.r(n);var r=t(5893),a=t(3252),i=t(8790),s=t(7294),o=t(331),u=t(252),l=t(8873),c=t(6107),d=t(4781);let f={submitActive:!1,submitLoading:!1,loadingText:"جاري تحديث البيانات"};n.default=(0,a.Z)(function(){let e=(0,o.oR)(e=>e.prices),n=(0,o.oR)(e=>e.setPrices),[t,a]=(0,s.useState)(!1),[x,m]=(0,s.useState)(e),[p,h]=(0,s.useState)("none"),[g,v]=(0,s.useState)(f);function j(){h("none"),v(f)}async function b(){v({...g,submitLoading:!0}),a(!0);let e=await (0,c._)({url:"/prices/update",method:"post",data:x,successToast:"تم التحديث بنجاح",errorToast:"حدث خطأ أثناء التحديث"});e&&n(x),a(!1),j()}function y(){h("flex"),v({...g,submitActive:!0})}function C(e,n){y(),m(x.map(t=>t._id===e?{...t,price:+n}:t))}function _(e,n){y(),m(x.map(t=>t._id===e?{...t,before:+n}:t))}return e&&x.length?(0,r.jsxs)(i.kC,{flexDir:"column",gap:"3",layerStyle:"flexCenter",children:[t&&(0,r.jsx)(d.Z,{}),!t&&(0,r.jsxs)(r.Fragment,{children:[x.map((e,n)=>(0,r.jsxs)(i.kC,{gap:"2",align:"center",children:[(0,r.jsx)(u.J,{value:e.price,onChange:C,label:e.label,type:"number",name:e._id}),(0,r.jsx)(u.J,{value:e.before,onChange:_,label:"قبل",type:"number",name:e._id},n+"before")]},n)),(0,r.jsx)(l.Z,{onReset:function(){m(e),j()},onSubmit:b,display:p,submitButton:g})]})]}):(0,r.jsx)(d.Z,{})},"prices")},3252:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(5893),a=t(1163),i=t(7294),s=t(6107),o=t(4781);function u(e,n){let t=()=>{let t=(0,a.useRouter)(),[u,l]=(0,i.useState)(null),c=async()=>{let e=await (0,s._)({url:"/admin/validate?path="+n});e?l(e):t.push("/")};return(0,i.useEffect)(()=>{c()},[]),u?(0,r.jsx)(e,{}):(0,r.jsx)(o.Z,{})};return t}},8873:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(5893),a=t(8790),i=t(5054);function s(e){let{onReset:n=()=>{},onSubmit:t=()=>{},display:s="none",submitButton:o={submitActive:!1,submitLoading:!1,loadingText:"جاري تحديث البيانات"}}=e;return(0,r.jsxs)(a.kC,{display:s,my:"2",align:"center",w:"100%",justify:"space-around",children:[(0,r.jsx)(i.zx,{w:{base:"120px",md:"200px"},colorScheme:"yellow",onClick:n,children:"الغاء التعديلات"}),(0,r.jsx)(i.zx,{isLoading:o.submitLoading,loadingText:o.loadingText,disabled:!o.submitActive,w:{base:"120px",md:"200px"},colorScheme:"green",onClick:t,children:"حفظ التعديلات"})]})}},252:function(e,n,t){"use strict";t.d(n,{J:function(){return l}});var r=t(5893),a=t(3789),i=t(4612),s=t(8790),o=t(1391),u=t(3441);function l(e){let{type:n,value:t,name:l,label:c,onChange:d,width:f,options:x,readOnly:m=!1}=e;return(0,r.jsxs)(a.NI,{maxW:f||"500px",children:[(0,r.jsx)(a.lX,{htmlFor:l,children:c}),("text"===n||"number"===n||"array"===n)&&(0,r.jsx)(i.II,{color:"orange.500",readOnly:"image"===l||m,id:l,focusBorderColor:"orange.500",type:n,name:l,value:"object"==typeof t?t.join(","):t,onChange:e=>d(l,e.target.value)}),"select"===n&&(0,r.jsx)(s.kC,{sx:{"div > div":{left:"10px",right:"unset"}},children:(0,r.jsx)(o.Ph,{id:l,value:t,onChange:e=>d(l,e.target.value),name:l,placeholder:c,children:null==x?void 0:x.map((e,n)=>(0,r.jsx)("option",{value:e.value,children:e.label},n))})}),"textarea"===n&&(0,r.jsx)(u.g,{color:"orange.500",id:l,focusBorderColor:"orange.500",name:l,value:t,onChange:e=>d(l,e.target.value)})]})}},4781:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(5893),a=t(8790),i=t(9609);function s(e){let{text:n}=e;return(0,r.jsxs)(a.kC,{p:"3",flex:"1",justifyContent:"center",flexDir:"column",alignItems:"center",children:[(0,r.jsx)(i.$,{transform:"translate(-50%, -50%)",thickness:"7px",speed:"0.65s",w:"8rem",h:"8rem",emptyColor:"orange.200",color:"orange.700"}),n&&(0,r.jsx)(a.xv,{children:n})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8033)}),_N_E=e.O()}]);