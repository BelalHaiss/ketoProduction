(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[364],{3441:function(e,n,t){"use strict";t.d(n,{g:function(){return s}});var r=t(3789),o=t(2846),l=t(5031),a=t(7294);function i(){return i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i.apply(this,arguments)}var u=["className","rows"],c=["h","minH","height","minHeight"],s=(0,o.Gp)((function(e,n){var t=(0,o.mq)("Textarea",e),s=(0,o.Lr)(e),f=s.className,d=s.rows,x=function(e,n){if(null==e)return{};var t,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(s,u),v=(0,r.Yp)(x),p=d?(0,l.CE)(t,c):t;return a.createElement(o.m$.textarea,i({ref:n,rows:d},v,{className:(0,l.cx)("chakra-textarea",f),__css:p}))}));l.Ts&&(s.displayName="Textarea")},1058:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/permissions",function(){return t(5563)}])},5563:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var r=t(5893),o=t(8790),l=t(5054),a=t(7294),i=t(9727),u=t(830),c=t(252),s=t(7470);function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){f(e,n,t[n])}))}return e}var x={name:"",lastName:"",email:"",password:"",role:""},v=[{name:"name",label:"\u0627\u0644\u0627\u0633\u0645",type:"text",value:""},{name:"lastName",label:"\u0627\u0633\u0645 \u0627\u0644\u0639\u0627\u0626\u0644\u0629",type:"text",value:""},{name:"email",label:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a",type:"text",value:""},{name:"password",label:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631",type:"text",value:""},{name:"role",label:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629",type:"select",value:"",options:[{value:"admin",label:"\u0645\u062f\u064a\u0631"},{value:"meals",label:"\u0645\u062f\u062e\u0644 \u0648\u062c\u0628\u0627\u062a"},{value:"workouts",label:"\u0627\u062e\u0635\u0627\u0626\u064a \u0631\u064a\u0627\u0636\u064a"},{value:"subscriptions",label:"\u0627\u062e\u0635\u0627\u0626\u064a \u062a\u063a\u0630\u064a\u0629"}]}];function p(e){var n=e.isOpen,t=e.onClose,o=function(e,n){m(d({},p,f({},e,n)))},i=(0,a.useState)(x),p=i[0],m=i[1];return(0,a.useEffect)((function(){return function(){return t()}}),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(u.u_,{isOpen:n,onClose:t,children:[(0,r.jsx)(u.ZA,{}),(0,r.jsxs)(u.hz,{children:[(0,r.jsx)(u.xB,{textAlign:"center",children:"\u0627\u0636\u0641 \u0645\u0648\u0638\u0641"}),(0,r.jsx)(u.ol,{}),(0,r.jsx)(u.fe,{children:v.map((function(e,n){return(0,r.jsx)(c.J,d({onChange:o},e,{value:p[e.name]}),n)}))}),(0,r.jsxs)(u.mz,{justifyContent:"space-around",children:[(0,r.jsxs)(l.zx,{colorScheme:"red",mr:3,onClick:t,children:["\u0627\u0644\u063a\u0627\u0621"," "]}),(0,r.jsx)(l.zx,{colorScheme:"green",onClick:function(){return(0,s.Hd)(p,t)},children:"\u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"})]})]})]})})}var m=t(3252),h=t(5832);function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){j(e,n,t[n])}))}return e}var g={label:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0648\u0638\u0641",name:"agents",options:[],value:"",type:"select"},y={name:"role",label:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629",type:"select",value:"",options:[{value:"admin",label:"\u0645\u062f\u064a\u0631"},{value:"meals",label:"\u0645\u062f\u062e\u0644 \u0648\u062c\u0628\u0627\u062a"},{value:"workouts",label:"\u0627\u062e\u0635\u0627\u0626\u064a \u0631\u064a\u0627\u0636\u064a"},{value:"subscriptions",label:"\u0627\u062e\u0635\u0627\u0626\u064a \u062a\u063a\u0630\u064a\u0629"}]};var w=(0,m.Z)((function(){var e,n=(0,a.useState)(!1),t=n[0],u=n[1],f=(0,a.useState)([]),d=f[0],x=f[1],v=(0,a.useState)(null),m=v[0],j=v[1],w=(0,a.useState)(""),C=w[0],O=w[1],k=(0,a.useState)(!1),S=k[0],_=k[1];return(0,a.useEffect)((function(){(0,s.j8)(x)}),[]),(0,r.jsxs)(o.kC,{position:"relative",layerStyle:"flexCenter",flexDir:"column",p:"3",children:[(0,r.jsx)(i.x,{path:"/admin"}),(0,r.jsx)(o.xv,{fontSize:"3xl",fontWeight:"bolder",children:"\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u062f\u0627\u0631\u064a\u0629"}),(0,r.jsx)(l.zx,{my:"4",w:"70%",mx:"auto",onClick:function(){return u(!0)},colorScheme:"green",children:"\u0627\u0636\u0641 \u0645\u0648\u0638\u0641"}),(0,r.jsx)(p,{onClose:function(){return u(!1)},isOpen:t}),(0,r.jsxs)(o.kC,{flexDir:"column",gap:"4",my:"5",children:[(0,r.jsxs)(o.kC,{gap:"3",fontSize:"3xl",fontWeight:"bold",align:"center",children:[(0,r.jsx)(o.xv,{children:"\u0639\u062f\u062f \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646 "}),(0,r.jsx)(o.xv,{color:"orange.800",children:d.length})]}),(0,r.jsx)(c.J,b({},g,{options:d.map((function(e){return{label:e.profile.name+" "+e.profile.lastName,value:e._id}})),value:null!==(e=null===m||void 0===m?void 0:m._id)&&void 0!==e?e:"",onChange:function(e,n){var t,r=d.find((function(e){return e._id===n}));j(r),O(null!==(t=null===r||void 0===r?void 0:r.role)&&void 0!==t?t:"")}})),m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.J,b({},y,{value:C,onChange:function(e,n){O(n),_(!0)}})),(0,r.jsx)(l.zx,{colorScheme:"red",onClick:function(){(0,h.Z)("\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0630\u0641","warning"),(0,s.$y)(m._id)},children:"\u062d\u0630\u0641 \u0627\u0644\u0645\u0648\u0638\u0641"})]}),S&&(0,r.jsx)(o.kC,{w:"100%",justify:"space-around",children:(0,r.jsx)(l.zx,{onClick:function(){var e;(0,s.$i)({userId:null!==(e=null===m||void 0===m?void 0:m._id)&&void 0!==e?e:"",role:C}),_(!1)},colorScheme:"green",children:"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a"})})]})]})}),"admin")},3252:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(4051),o=t.n(r),l=t(5893),a=t(1163),i=t(7294),u=t(6107),c=t(4781);function s(e,n,t,r,o,l,a){try{var i=e[l](a),u=i.value}catch(c){return void t(c)}i.done?n(u):Promise.resolve(u).then(r,o)}function f(e,n){return function(){var t=(0,a.useRouter)(),r=(0,i.useState)(null),f=r[0],d=r[1],x=function(){var e,r=(e=o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u._)({url:"/admin/validate?path="+n});case 2:(r=e.sent)?d(r):t.push("/");case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var l=e.apply(n,t);function a(e){s(l,r,o,a,i,"next",e)}function i(e){s(l,r,o,a,i,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,i.useEffect)((function(){x()}),[]),f?(0,l.jsx)(e,{}):(0,l.jsx)(c.Z,{})}}},9727:function(e,n,t){"use strict";t.d(n,{x:function(){return i}});var r=t(5893),o=t(5054),l=t(1163),a=t(155);function i(e){var n=e.path,t=e.client,i=e.onClick,u=(0,l.useRouter)();return(0,r.jsx)(o.zx,{onClick:function(){return i?i():u.replace(n)},position:"absolute",dir:"ltr",size:{base:"sm",md:"md"},width:{base:"100px",md:"120px"},leftIcon:(0,r.jsx)(a.Eg1,{fontSize:"25px"}),top:{base:t?"120px":"-1",md:t?"100px":"30px"},left:{base:"12px",md:"15px"},colorScheme:"yellow",color:"yellow.800",children:"\u0631\u062c\u0648\u0639"})}},252:function(e,n,t){"use strict";t.d(n,{J:function(){return c}});var r=t(5893),o=t(3789),l=t(4612),a=t(8790),i=t(1391),u=t(3441);function c(e){var n=e.type,t=e.value,c=e.name,s=e.label,f=e.onChange,d=e.width,x=e.options,v=e.readOnly,p=void 0!==v&&v;return(0,r.jsxs)(o.NI,{maxW:d||"500px",children:[(0,r.jsx)(o.lX,{htmlFor:c,children:s}),("text"===n||"number"===n||"array"===n)&&(0,r.jsx)(l.II,{color:"orange.500",readOnly:"image"===c||p,id:c,focusBorderColor:"orange.500",type:n,name:c,value:"object"===typeof t?t.join(","):t,onChange:function(e){return f(c,e.target.value)}}),"select"===n&&(0,r.jsx)(a.kC,{sx:{"div > div":{left:"10px",right:"unset"}},children:(0,r.jsx)(i.Ph,{id:c,value:t,onChange:function(e){return f(c,e.target.value)},name:c,placeholder:s,children:null===x||void 0===x?void 0:x.map((function(e,n){return(0,r.jsx)("option",{value:e.value,children:e.label},n)}))})}),"textarea"===n&&(0,r.jsx)(u.g,{color:"orange.500",id:c,focusBorderColor:"orange.500",name:c,value:t,onChange:function(e){return f(c,e.target.value)}})]})}},4781:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(5893),o=t(8790),l=t(9609);function a(e){var n=e.text;return(0,r.jsxs)(o.kC,{p:"3",flex:"1",justifyContent:"center",flexDir:"column",alignItems:"center",children:[(0,r.jsx)(l.$,{transform:"translate(-50%, -50%)",thickness:"7px",speed:"0.65s",w:"8rem",h:"8rem",emptyColor:"orange.200",color:"orange.700"}),n&&(0,r.jsx)(o.xv,{children:n})]})}}},function(e){e.O(0,[260,774,888,179],(function(){return n=1058,e(e.s=n);var n}));var n=e.O();_N_E=n}]);