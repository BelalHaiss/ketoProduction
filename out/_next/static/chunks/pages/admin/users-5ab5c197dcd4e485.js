(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{9042:function(e,n,r){"use strict";r.d(n,{Td:function(){return y},Th:function(){return j},Tr:function(){return v},hr:function(){return h},iA:function(){return x},p3:function(){return b},xJ:function(){return f}});var t=r(2846),l=r(5031),a=r(7294);function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function o(e,n){if(null==e)return{};var r,t,l={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(l[r]=e[r]);return l}var s=["overflow","overflowX","className"],c=["className"],u=["placement"],d=["isNumeric"],p=["isNumeric"],f=(0,t.Gp)(function(e,n){var r,c=e.overflow,u=e.overflowX,d=e.className,p=o(e,s);return a.createElement(t.m$.div,i({ref:n,className:(0,l.cx)("chakra-table__container",d)},p,{__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(r=null!=c?c:u)?r:"auto",overflowY:"hidden",maxWidth:"100%"}}))}),x=(0,t.Gp)(function(e,n){var r=(0,t.jC)("Table",e),s=(0,t.Lr)(e),u=s.className,d=o(s,c);return a.createElement(t.Fo,{value:r},a.createElement(t.m$.table,i({role:"table",ref:n,__css:r.table,className:(0,l.cx)("chakra-table",u)},d)))});l.Ts&&(x.displayName="Table");var m=(0,t.Gp)(function(e,n){var r=e.placement,l=o(e,u),s=(0,t.yK)();return a.createElement(t.m$.caption,i({},l,{ref:n,__css:i({},s.caption,{captionSide:void 0===r?"bottom":r})}))});l.Ts&&(m.displayName="TableCaption");var h=(0,t.Gp)(function(e,n){var r=(0,t.yK)();return a.createElement(t.m$.thead,i({},e,{ref:n,__css:r.thead}))}),b=(0,t.Gp)(function(e,n){var r=(0,t.yK)();return a.createElement(t.m$.tbody,i({},e,{ref:n,__css:r.tbody}))}),j=(0,t.Gp)(function(e,n){var r=e.isNumeric,l=o(e,d),s=(0,t.yK)();return a.createElement(t.m$.th,i({},l,{ref:n,__css:s.th,"data-is-numeric":r}))}),v=(0,t.Gp)(function(e,n){var r=(0,t.yK)();return a.createElement(t.m$.tr,i({role:"row"},e,{ref:n,__css:r.tr}))}),y=(0,t.Gp)(function(e,n){var r=e.isNumeric,l=o(e,p),s=(0,t.yK)();return a.createElement(t.m$.td,i({role:"gridcell"},l,{ref:n,__css:s.td,"data-is-numeric":r}))})},7061:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users",function(){return r(7815)}])},7815:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return w}});var t=r(5893),l=r(8790),a=r(5054),i=r(9727),o=r(894);function s(e){let{icon:n,label:r,number:a}=e;return(0,t.jsxs)(l.kC,{bg:"orange.200",borderRadius:"xl",flexDir:"column",p:"2",w:"200px",h:"150px",layerStyle:"flexCenter",gap:"2",children:[(0,t.jsx)(o.JO,{size:"40px",w:"30",h:"30",color:"orange.500",as:n}),(0,t.jsx)(l.xv,{my:"3",color:"orange.800",fontSize:"xl",fontWeight:"bold",children:r}),(0,t.jsx)(l.xv,{color:"orange.800",fontSize:"2xl",fontWeight:"bold",children:a})]})}var c=r(8473),u=r(7294),d=r(9583),p=r(3252),f=r(9352),x=r(5811),m=r(7470),h=r(5832),b=r(3957),j=r(7176),v=r(2946),y=function(e){let{user:n,isAdmin:r=!0}=e;return(0,t.jsxs)(b.mQ,{w:"100%",isFitted:!0,variant:"soft-rounded",colorScheme:"orange",children:[(0,t.jsxs)(b.td,{mb:"1em",children:[(0,t.jsx)(b.OK,{children:"حسابي "}),(0,t.jsx)(b.OK,{children:"قياساتي"})]}),(0,t.jsxs)(b.nP,{children:[(0,t.jsx)(b.x4,{children:(0,t.jsx)(j.Z,{isAdminUpdate:r,user:n})}),(0,t.jsx)(b.x4,{children:(0,t.jsx)(v.Z,{shouldRender:r,isAdminUpdate:r,user:n})}),(0,t.jsx)(b.x4,{children:(0,t.jsx)("p",{children:"الاشتراكات"})})]})]})},g=r(6107),w=(0,p.Z)(function(){let[e,n]=(0,u.useState)({icon:d.I$,label:"عدد المستخدمين",number:0}),[r,o]=(0,u.useState)({icon:f.M6S,label:"عدد النتائج",number:0}),[p,b]=(0,u.useState)([]),[j,v]=(0,u.useState)(!1),[w,_]=(0,u.useState)(null);async function S(e){let n=await (0,m.d$)(e);n&&("custom"===n.name?(0,h.Z)("لاتوجد نتائج","error"):Array.isArray(n)&&(v(!0),o({...r,number:n.length}),b(n)))}async function k(){let e=await (0,g._)({url:"/admin/allusers"});v(!0),o({...r,number:e.length}),b(e)}return(0,u.useEffect)(()=>{(0,m.zW)(n)},[]),(0,t.jsxs)(l.kC,{p:"2",flexDir:"column",position:"relative",layerStyle:"flexCenter",gap:"3",children:[(0,t.jsx)(i.x,{path:"/admin"}),(0,t.jsx)(l.xv,{fontSize:"3xl",fontWeight:"bolder",children:"بيانات العملاء"}),(0,t.jsxs)(l.kC,{justify:"space-between",my:"4",gap:"2",layerStyle:"flexResponsive",w:"100%",children:[(0,t.jsx)(s,{...e}),(0,t.jsx)(c.Z,{placeholder:"ابحث برقم الهاتف او الايميل",onSearch:S}),(0,t.jsx)(a.zx,{onClick:k,colorScheme:"purple",children:"اظهار جميع العملاء"}),(0,t.jsx)(s,{...r})]}),j&&(0,t.jsx)(x.w,{headers:[{label:"الاسم",name:"name",parentField:"profile",type:"string"},{label:"الهاتف",name:"phone",parentField:"profile",type:"string"},{label:"البريد الالكتروني",name:"email",parentField:"profile",type:"string"},{label:"تاريخ انشاء الحساب",name:"createdAt",type:"date"},{label:"تاريخ آخر تعديل",name:"updatedAt",type:"date"}],row:p,onLineClick:function(e){v(!1),_(p.find(n=>n._id===e))}}),w&&!j&&(0,t.jsx)(y,{user:w})]})},"admin")},3252:function(e,n,r){"use strict";r.d(n,{Z:function(){return s}});var t=r(5893),l=r(1163),a=r(7294),i=r(6107),o=r(4781);function s(e,n){let r=()=>{let r=(0,l.useRouter)(),[s,c]=(0,a.useState)(null),u=async()=>{let e=await (0,i._)({url:"/admin/validate?path="+n});e?c(e):r.push("/")};return(0,a.useEffect)(()=>{u()},[]),s?(0,t.jsx)(e,{}):(0,t.jsx)(o.Z,{})};return r}},5811:function(e,n,r){"use strict";r.d(n,{w:function(){return i}});var t=r(5893),l=r(9042);function a(e,n){return"boolean"==typeof e?e?"نعم":"لا":"date"===n?new Date(e).toLocaleString("ar",{}):e}function i(e){let{headers:n=[],row:r=[],onLineClick:i}=e;return(0,t.jsx)(l.xJ,{minW:"100%",children:(0,t.jsxs)(l.iA,{variant:"simple",children:[(0,t.jsx)(l.hr,{children:(0,t.jsx)(l.Tr,{children:n.map((e,n)=>(0,t.jsx)(l.Th,{color:"orange.100",bg:"orange.800",children:e.label},n))})}),(0,t.jsx)(l.p3,{children:r.map((e,r)=>(0,t.jsx)(l.Tr,{cursor:"pointer",transition:"all 0.2s ease-in-out",_hover:{bg:"orange.200",transition:"all 0.2s ease-in-out"},onClick:()=>i?i(e._id):null,children:n.map(n=>(0,t.jsx)(l.Td,{color:"orange.800",children:n.custom?n.custom(e):n.parentField?e[n.parentField]?a(e[n.parentField][n.name],n.type):"":a(e[n.name],n.type)},n.name))},r))})]})})}},8473:function(e,n,r){"use strict";r.d(n,{Z:function(){return c}});var t=r(5893),l=r(8790),a=r(4612),i=r(894),o=r(7294),s=r(5434);function c(e){let{placeholder:n,onSearch:r,width:c}=e,[u,d]=(0,o.useState)("");return(0,t.jsxs)(l.kC,{w:null!=c?c:"60%",layerStyle:"flexCenter",dir:"ltr",position:"relative",children:[(0,t.jsx)(a.II,{type:"text",value:u,placeholder:n,onKeyDown(e){"Enter"===e.key&&r(u)},size:"lg",borderRadius:"3xl",focusBorderColor:"orange.500",onChange:e=>d(e.target.value)}),(0,t.jsx)(i.JO,{as:s.MBo,w:"30px",h:"30px",zIndex:40,cursor:"pointer",position:"absolute",right:"10px",onClick:()=>r(u),top:"7px",color:"orange.500"})]})}},9727:function(e,n,r){"use strict";r.d(n,{x:function(){return o}});var t=r(5893),l=r(5054),a=r(1163),i=r(155);function o(e){let{path:n,client:r,onClick:o}=e,s=(0,a.useRouter)();return(0,t.jsx)(l.zx,{onClick:()=>o?o():s.replace(n),position:"absolute",dir:"ltr",size:{base:"sm",md:"md"},width:{base:"100px",md:"120px"},leftIcon:(0,t.jsx)(i.Eg1,{fontSize:"25px"}),top:{base:r?"120px":"-1",md:r?"100px":"30px"},left:{base:"12px",md:"15px"},colorScheme:"yellow",color:"yellow.800",children:"رجوع"})}}},function(e){e.O(0,[445,260,957,26,774,888,179],function(){return e(e.s=7061)}),_N_E=e.O()}]);