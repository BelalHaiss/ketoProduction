(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[664],{1505:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/meals",function(){return r(8477)}])},8477:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return p}});var t=r(5893),a=r(8790),l=r(5054),o=r(7294),u=r(3957);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function c(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){i(e,n,r[n])}))}return e}function s(e){var n=e.data;return(0,t.jsxs)(a.kC,{w:"100%",flexDir:"column",gap:"3",children:[(0,t.jsx)(u.mQ,{isFitted:!0,variant:"soft-rounded",colorScheme:"orange",children:(0,t.jsx)(u.td,{flexDir:{base:"column",md:"row"},children:n.categories.map((function(e,r){return(0,t.jsxs)(u.OK,{_hover:{bg:"orange.300"},_selected:{bg:"orange.400",color:"orange.800"},onClick:function(){return n.setQuery(c({},n.query,{category:e.value}))},children:[e.label,(0,t.jsx)(a.Ct,{variant:"subtle",fontSize:"xl",colorScheme:"red",mr:"auto",children:n.counts[e.value].categoryCounts})]},r)}))})}),(0,t.jsx)("hr",{style:{border:"1px dashed gray"}}),(0,t.jsx)(u.mQ,{isFitted:!0,variant:"soft-rounded",colorScheme:"orange",children:(0,t.jsx)(u.td,{flexDir:{base:"column",md:"row"},children:n.times.map((function(e,r){return(0,t.jsxs)(u.OK,{_hover:{bg:"orange.100"},onClick:function(){return n.setQuery(c({},n.query,{time:e.value}))},children:[e.label,(0,t.jsx)(a.Ct,{variant:"subtle",fontSize:"xl",colorScheme:"red",mr:"auto",children:n.counts[n.query.category].timesCounts[e.value]})]},r)}))})})]})}var d=r(7470),f=r(6373),m=r(3252),x=r(1163),h=r(4781),v=[{label:"\u0627\u0644\u062f\u062c\u0627\u062c",value:"chicken"},{label:"\u0627\u0644\u0627\u0633\u0645\u0627\u0643",value:"fish"},{label:"\u0627\u0644\u0631\u0648\u0628\u064a\u0627\u0646",value:"caridea"},{label:"\u0644\u062d\u0645 \u0627\u0644\u0627\u0628\u0642\u0627\u0631",value:"cow"},{label:"\u0644\u062d\u0645 \u0627\u0644\u0627\u063a\u0646\u0627\u0645",value:"sheep"},{label:"\u0644\u062d\u0645 \u0627\u0644\u062c\u0645\u0627\u0644",value:"camel"},{label:"\u0627\u062e\u0631\u064a",value:"other"}],g=[{value:"breakfast",label:"\u0627\u0644\u0625\u0641\u0637\u0627\u0631"},{value:"lunch",label:"\u0627\u0644\u063a\u062f\u0627\u0621"},{value:"dinner",label:"\u0627\u0644\u0639\u0634\u0627\u0621"},{value:"snack",label:"\u0627\u0644\u0648\u062c\u0628\u0627\u062a \u0627\u0644\u062e\u0641\u064a\u0641\u0647"}],b=function(){var e={},n=!0,r=!1,t=void 0;try{for(var a,l=v[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){e[a.value.value]={categoryCounts:0,timesCounts:{breakfast:0,lunch:0,dinner:0,snack:0}}}}catch(o){r=!0,t=o}finally{try{n||null==l.return||l.return()}finally{if(r)throw t}}return e};var p=(0,m.Z)((function(){var e=(0,o.useState)({category:v[0].value,time:g[0].value}),n=e[0],r=e[1],u=(0,o.useState)(b),i=u[0],c=u[1],m=(0,o.useState)([]),p=m[0],y=m[1],j=(0,o.useState)(!0),w=j[0],C=j[1];(0,o.useEffect)((function(){C(!0),(0,d.yf)(c),(0,d.eg)(n,y,C)}),[n]);var k=(0,x.useRouter)();return(0,t.jsxs)(a.kC,{layerStyle:"flexCenter",gap:"3",flexDir:"column",p:"1",children:[(0,t.jsxs)(a.kC,{justify:"center",w:"100%",align:"center",children:[(0,t.jsx)(a.xv,{fontSize:{base:"lg",md:"3xl"},ml:{base:"auto",md:"0"},fontWeight:"bold",children:"\u0635\u0641\u062d\u0629 \u0627\u0644\u0648\u062c\u0628\u0627\u062a"}),(0,t.jsx)(l.zx,{size:{base:"xs",md:"md"},colorScheme:"green",position:"absolute",left:"20px",onClick:function(){return k.replace("/admin/addMeal")},children:"\u0627\u0636\u0641 \u0648\u062c\u0628\u0629 \u062c\u062f\u064a\u062f\u0629"})]}),(0,t.jsx)(s,{data:{times:g,categories:v,counts:i,query:n,setQuery:r}}),w&&(0,t.jsx)(h.Z,{}),!w&&(0,t.jsx)(a.kC,{gap:"2",my:"3",mx:"auto",layerStyle:"flexCenter",wrap:"wrap",children:p.length?p.map((function(e,n){return(0,t.jsx)(f.E,{width:"190px",size:"lg",meal:e},n)})):(0,t.jsx)(a.xv,{my:"3",fontSize:"3xl",color:"orange.800",fontWeight:"bod",children:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0648\u062c\u0628\u0627\u062a !!!!!!!!!"})})]})}),"meals")},3252:function(e,n,r){"use strict";r.d(n,{Z:function(){return d}});var t=r(4051),a=r.n(t),l=r(5893),o=r(1163),u=r(7294),i=r(6107),c=r(4781);function s(e,n,r,t,a,l,o){try{var u=e[l](o),i=u.value}catch(c){return void r(c)}u.done?n(i):Promise.resolve(i).then(t,a)}function d(e,n){return function(){var r=(0,o.useRouter)(),t=(0,u.useState)(null),d=t[0],f=t[1],m=function(){var e,t=(e=a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i._)({url:"/admin/validate?path="+n});case 2:(t=e.sent)?f(t):r.push("/");case 4:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,a){var l=e.apply(n,r);function o(e){s(l,t,a,o,u,"next",e)}function u(e){s(l,t,a,o,u,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){m()}),[]),d?(0,l.jsx)(e,{}):(0,l.jsx)(c.Z,{})}}},6373:function(e,n,r){"use strict";r.d(n,{E:function(){return s}});var t=r(5893),a=r(8790),l=r(8428),o=r(5054),u=r(7294),i=r(1163),c=r(331);function s(e){var n=e.meal,r=(e.width,e.size,e.className),s=e.time,d=(0,i.useRouter)(),f=(0,c.oR)((function(e){return e.setMealView})),m=(0,c.oR)((function(e){return e.user})),x=(0,u.useState)(!1),h=x[0],v=x[1];return(0,t.jsxs)(a.kC,{flexDir:"column",p:"1",bg:"orange.100",className:null!==r&&void 0!==r?r:"",onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},rounded:"xl",color:"orange.800",w:"190px",h:"250px",layerStyle:"flexCenter",children:[(0,t.jsx)(l.Ee,{src:n.image.url?n.image.url:"https://res.cloudinary.com/ketoar/image/upload/v1/".concat(n.image),alt:"meal",mb:"3",rounded:"3xl",w:"140px"}),h?(0,t.jsxs)(a.kC,{gap:"1",h:"35%",align:"center",flexDir:"column",children:[("admin"===(null===m||void 0===m?void 0:m.role)||(null===m||void 0===m?void 0:m._id)===n.addedBy)&&(0,t.jsx)(o.zx,{size:{base:"sm",md:"md"},onClick:function(){f(n),d.replace("/admin/addMeal?edit="+n._id)},colorScheme:"yellow",children:"\u062a\u0639\u062f\u064a\u0644"}),(0,t.jsx)(o.zx,{size:{base:"sm",md:"md"},colorScheme:"orange",w:"90%",onClick:function(){f(n),d.replace({pathname:"/mealView",query:{time:s||""}},"/mealView")},children:"\u062a\u062d\u0636\u064a\u0631 \u0627\u0644\u0648\u062c\u0628\u0629"})]}):(0,t.jsxs)(a.kC,{align:"center",gap:"1",h:"35%",flexDir:"column",children:[(0,t.jsx)(a.xv,{fontSize:{base:"md",md:"lg"},fontWeight:"bold",children:n.name.slice(0,19)}),(0,t.jsxs)(a.xv,{children:[" ",n.duration," \u062f\u0642\u0627\u0626\u0642"]}),(0,t.jsxs)(a.Ct,{colorScheme:"red",variant:"subtle",fontSize:"sm",rounded:"lg",px:"3",children:[n.calories," \u0633\u0639\u0631\u0647"]})]})]})}},4781:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var t=r(5893),a=r(8790),l=r(9609);function o(e){var n=e.text;return(0,t.jsxs)(a.kC,{p:"3",flex:"1",justifyContent:"center",flexDir:"column",alignItems:"center",children:[(0,t.jsx)(l.$,{transform:"translate(-50%, -50%)",thickness:"7px",speed:"0.65s",w:"8rem",h:"8rem",emptyColor:"orange.200",color:"orange.700"}),n&&(0,t.jsx)(a.xv,{children:n})]})}}},function(e){e.O(0,[957,774,888,179],(function(){return n=1505,e(e.s=n);var n}));var n=e.O();_N_E=n}]);