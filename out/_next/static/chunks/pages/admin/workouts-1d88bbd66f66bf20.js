(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{5303:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/workouts",function(){return t(7942)}])},7942:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var r=t(5893),i=t(8790),o=t(5715),s=t(7294),l=t(3252),u=t(4781),a=t(3957),c=t(6107),d=t(252),x=t(8873);let h={submitActive:!1,submitLoading:!1,loadingText:"جاري تحديث البيانات"};function f(e){let{workout:n}=e,[t,l]=(0,s.useState)(n),[u,f]=(0,s.useState)(h),[m,j]=(0,s.useState)("none");function g(){j("none"),f(h)}async function p(){f({...u,submitLoading:!0}),await (0,c._)({url:"/workout/".concat(t._id,"?path=workouts"),method:"patch",successToast:"تم التحديث بنجاح",data:t}),g()}function v(e,n){j("flex"),f({...u,submitActive:!0});let r=+e.slice(0,1),i=!!e.includes("url"),o=t.videos.map((e,t)=>t===r?{duration:i?e.duration:+n,url:i?n:e.url}:e);l({...t,videos:o})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.Qd,{children:[(0,r.jsx)(o.KF,{_hover:{bg:"orange.100"},_expanded:{bg:"orange.200"},children:(0,r.jsxs)(i.kC,{flexDir:"row",w:"100%",justify:"center",children:[(0,r.jsx)(i.xv,{fontSize:"xl",fontWeight:"bolder",children:t.label}),(0,r.jsx)(o.XE,{})]})}),(0,r.jsx)(o.Hk,{children:(0,r.jsxs)(a.mQ,{isFitted:!0,colorScheme:"orange",variant:"soft-rounded",children:[(0,r.jsxs)(a.td,{mb:"1em",children:[(0,r.jsx)(a.OK,{children:"الفيديو الاول"}),(0,r.jsx)(a.OK,{children:"الفيديو الثاني"}),(0,r.jsx)(a.OK,{children:"الفيديو الثالث"})]}),(0,r.jsx)(a.nP,{children:t.videos.map((e,n)=>(0,r.jsx)(a.x4,{children:(0,r.jsxs)(i.kC,{gap:"2",layerStyle:"flexResponsive",children:[(0,r.jsx)(d.J,{type:"text",value:e.url,label:"رابط الفيديو",width:"700px",name:n+"url",onChange:v}),(0,r.jsx)(d.J,{type:"number",value:e.duration,label:"مدة الفيديو",width:"400px",name:n+"duration",onChange:v})]})},n))})]})})]}),(0,r.jsx)(x.Z,{onReset:function(){l(n),g()},onSubmit:p,display:m,submitButton:u})]})}var m=t(7470),j=(0,l.Z)(function(){let[e,n]=(0,s.useState)(!0),[t,l]=(0,s.useState)([]);return(0,s.useEffect)(()=>{(0,m.mA)(l)},[]),(0,s.useEffect)(()=>{t.length&&n(!1)},[t]),(0,r.jsxs)(i.kC,{layerStyle:"flexCenter",flexDir:"column",p:"1",children:[(0,r.jsx)(i.xv,{fontSize:"3xl",fontWeight:"bolder",children:"صفحة التمارين"}),e&&(0,r.jsx)(u.Z,{}),(0,r.jsx)(o.UQ,{w:"100%",children:!e&&t.map((e,n)=>(0,r.jsx)(f,{workout:e},n))})]})},"workouts")},3252:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(5893),i=t(1163),o=t(7294),s=t(6107),l=t(4781);function u(e,n){let t=()=>{let t=(0,i.useRouter)(),[u,a]=(0,o.useState)(null),c=async()=>{let e=await (0,s._)({url:"/admin/validate?path="+n});e?a(e):t.push("/")};return(0,o.useEffect)(()=>{c()},[]),u?(0,r.jsx)(e,{}):(0,r.jsx)(l.Z,{})};return t}},8873:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(5893),i=t(8790),o=t(5054);function s(e){let{onReset:n=()=>{},onSubmit:t=()=>{},display:s="none",submitButton:l={submitActive:!1,submitLoading:!1,loadingText:"جاري تحديث البيانات"}}=e;return(0,r.jsxs)(i.kC,{display:s,my:"2",align:"center",w:"100%",justify:"space-around",children:[(0,r.jsx)(o.zx,{w:{base:"120px",md:"200px"},colorScheme:"yellow",onClick:n,children:"الغاء التعديلات"}),(0,r.jsx)(o.zx,{isLoading:l.submitLoading,loadingText:l.loadingText,disabled:!l.submitActive,w:{base:"120px",md:"200px"},colorScheme:"green",onClick:t,children:"حفظ التعديلات"})]})}},252:function(e,n,t){"use strict";t.d(n,{J:function(){return a}});var r=t(5893),i=t(3789),o=t(4612),s=t(8790),l=t(1391),u=t(3441);function a(e){let{type:n,value:t,name:a,label:c,onChange:d,width:x,options:h,readOnly:f=!1}=e;return(0,r.jsxs)(i.NI,{maxW:x||"500px",children:[(0,r.jsx)(i.lX,{htmlFor:a,children:c}),("text"===n||"number"===n||"array"===n)&&(0,r.jsx)(o.II,{color:"orange.500",readOnly:"image"===a||f,id:a,focusBorderColor:"orange.500",type:n,name:a,value:"object"==typeof t?t.join(","):t,onChange:e=>d(a,e.target.value)}),"select"===n&&(0,r.jsx)(s.kC,{sx:{"div > div":{left:"10px",right:"unset"}},children:(0,r.jsx)(l.Ph,{id:a,value:t,onChange:e=>d(a,e.target.value),name:a,placeholder:c,children:null==h?void 0:h.map((e,n)=>(0,r.jsx)("option",{value:e.value,children:e.label},n))})}),"textarea"===n&&(0,r.jsx)(u.g,{color:"orange.500",id:a,focusBorderColor:"orange.500",name:a,value:t,onChange:e=>d(a,e.target.value)})]})}},4781:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(5893),i=t(8790),o=t(9609);function s(e){let{text:n}=e;return(0,r.jsxs)(i.kC,{p:"3",flex:"1",justifyContent:"center",flexDir:"column",alignItems:"center",children:[(0,r.jsx)(o.$,{transform:"translate(-50%, -50%)",thickness:"7px",speed:"0.65s",w:"8rem",h:"8rem",emptyColor:"orange.200",color:"orange.700"}),n&&(0,r.jsx)(i.xv,{children:n})]})}}},function(e){e.O(0,[957,596,774,888,179],function(){return e(e.s=5303)}),_N_E=e.O()}]);