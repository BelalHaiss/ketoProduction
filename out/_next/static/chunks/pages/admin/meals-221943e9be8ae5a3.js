(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[664],{1505:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/meals",function(){return n(8477)}])},8477:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return v}});var r=n(5893),t=n(8790),a=n(5054),o=n(7294),s=n(3957);function i(e){let{data:l}=e;return(0,r.jsxs)(t.kC,{w:"100%",flexDir:"column",gap:"3",children:[(0,r.jsx)(s.mQ,{isFitted:!0,variant:"soft-rounded",colorScheme:"orange",children:(0,r.jsx)(s.td,{flexDir:{base:"column",md:"row"},children:l.categories.map((e,n)=>(0,r.jsxs)(s.OK,{_hover:{bg:"orange.300"},_selected:{bg:"orange.400",color:"orange.800"},onClick:()=>l.setQuery({...l.query,category:e.value}),children:[e.label,(0,r.jsx)(t.Ct,{variant:"subtle",fontSize:"xl",colorScheme:"red",mr:"auto",children:l.counts[e.value].categoryCounts})]},n))})}),(0,r.jsx)("hr",{style:{border:"1px dashed gray"}}),(0,r.jsx)(s.mQ,{isFitted:!0,variant:"soft-rounded",colorScheme:"orange",children:(0,r.jsx)(s.td,{flexDir:{base:"column",md:"row"},children:l.times.map((e,n)=>(0,r.jsxs)(s.OK,{_hover:{bg:"orange.100"},onClick:()=>l.setQuery({...l.query,time:e.value}),children:[e.label,(0,r.jsx)(t.Ct,{variant:"subtle",fontSize:"xl",colorScheme:"red",mr:"auto",children:l.counts[l.query.category].timesCounts[e.value]})]},n))})})]})}var u=n(7470),c=n(6373),d=n(3252),m=n(1163),x=n(4781);let h=[{label:"الدجاج",value:"chicken"},{label:"الاسماك",value:"fish"},{label:"الروبيان",value:"caridea"},{label:"لحم الابقار",value:"cow"},{label:"لحم الاغنام",value:"sheep"},{label:"لحم الجمال",value:"camel"},{label:"اخري",value:"other"}],f=[{value:"breakfast",label:"الإفطار"},{value:"lunch",label:"الغداء"},{value:"dinner",label:"العشاء"},{value:"snack",label:"الوجبات الخفيفه"}],g=()=>{let e={};for(let l of h)e[l.value]={categoryCounts:0,timesCounts:{breakfast:0,lunch:0,dinner:0,snack:0}};return e};var v=(0,d.Z)(function(){let[e,l]=(0,o.useState)({category:h[0].value,time:f[0].value}),[n,s]=(0,o.useState)(g),[d,v]=(0,o.useState)([]),[b,p]=(0,o.useState)(!0);(0,o.useEffect)(()=>{p(!0),(0,u.yf)(s),(0,u.eg)(e,v,p)},[e]);let j=(0,m.useRouter)();return(0,r.jsxs)(t.kC,{layerStyle:"flexCenter",gap:"3",flexDir:"column",p:"1",children:[(0,r.jsxs)(t.kC,{justify:"center",w:"100%",align:"center",children:[(0,r.jsx)(t.xv,{fontSize:{base:"lg",md:"3xl"},ml:{base:"auto",md:"0"},fontWeight:"bold",children:"صفحة الوجبات"}),(0,r.jsx)(a.zx,{size:{base:"xs",md:"md"},colorScheme:"green",position:"absolute",left:"20px",onClick:()=>j.replace("/admin/addMeal"),children:"اضف وجبة جديدة"})]}),(0,r.jsx)(i,{data:{times:f,categories:h,counts:n,query:e,setQuery:l}}),b&&(0,r.jsx)(x.Z,{}),!b&&(0,r.jsx)(t.kC,{gap:"2",my:"3",mx:"auto",layerStyle:"flexCenter",wrap:"wrap",children:d.length?d.map((e,l)=>(0,r.jsx)(c.E,{width:"190px",size:"lg",meal:e},l)):(0,r.jsx)(t.xv,{my:"3",fontSize:"3xl",color:"orange.800",fontWeight:"bod",children:"لا يوجد وجبات !!!!!!!!!"})})]})},"meals")},3252:function(e,l,n){"use strict";n.d(l,{Z:function(){return i}});var r=n(5893),t=n(1163),a=n(7294),o=n(6107),s=n(4781);function i(e,l){let n=()=>{let n=(0,t.useRouter)(),[i,u]=(0,a.useState)(null),c=async()=>{let e=await (0,o._)({url:"/admin/validate?path="+l});e?u(e):n.push("/")};return(0,a.useEffect)(()=>{c()},[]),i?(0,r.jsx)(e,{}):(0,r.jsx)(s.Z,{})};return n}},6373:function(e,l,n){"use strict";n.d(l,{E:function(){return c}});var r=n(5893),t=n(8790),a=n(8428),o=n(5054),s=n(7294),i=n(1163),u=n(331);function c(e){let{meal:l,width:n,size:c,className:d,time:m}=e,x=(0,i.useRouter)(),h=(0,u.oR)(e=>e.setMealView),f=(0,u.oR)(e=>e.user),[g,v]=(0,s.useState)(!1);return(0,r.jsxs)(t.kC,{flexDir:"column",p:"1",bg:"orange.100",className:null!=d?d:"",onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),rounded:"xl",color:"orange.800",w:"190px",h:"250px",layerStyle:"flexCenter",children:[(0,r.jsx)(a.Ee,{src:l.image.url?l.image.url:"https://res.cloudinary.com/ketoar/image/upload/v1/".concat(l.image),alt:"meal",mb:"3",rounded:"3xl",w:"140px"}),g?(0,r.jsxs)(t.kC,{gap:"1",h:"35%",align:"center",flexDir:"column",children:[((null==f?void 0:f.role)==="admin"||(null==f?void 0:f._id)===l.addedBy)&&(0,r.jsx)(o.zx,{size:{base:"sm",md:"md"},onClick:function(){h(l),x.replace("/admin/addMeal?edit="+l._id)},colorScheme:"yellow",children:"تعديل"}),(0,r.jsx)(o.zx,{size:{base:"sm",md:"md"},colorScheme:"orange",w:"90%",onClick:function(){h(l),x.replace({pathname:"/mealView",query:{time:m||""}},"/mealView")},children:"تحضير الوجبة"})]}):(0,r.jsxs)(t.kC,{align:"center",gap:"1",h:"35%",flexDir:"column",children:[(0,r.jsx)(t.xv,{fontSize:{base:"md",md:"lg"},fontWeight:"bold",children:l.name.slice(0,19)}),(0,r.jsxs)(t.xv,{children:[" ",l.duration," دقائق"]}),(0,r.jsxs)(t.Ct,{colorScheme:"red",variant:"subtle",fontSize:"sm",rounded:"lg",px:"3",children:[l.calories," سعره"]})]})]})}},4781:function(e,l,n){"use strict";n.d(l,{Z:function(){return o}});var r=n(5893),t=n(8790),a=n(9609);function o(e){let{text:l}=e;return(0,r.jsxs)(t.kC,{p:"3",flex:"1",justifyContent:"center",flexDir:"column",alignItems:"center",children:[(0,r.jsx)(a.$,{transform:"translate(-50%, -50%)",thickness:"7px",speed:"0.65s",w:"8rem",h:"8rem",emptyColor:"orange.200",color:"orange.700"}),l&&(0,r.jsx)(t.xv,{children:l})]})}}},function(e){e.O(0,[957,774,888,179],function(){return e(e.s=1505)}),_N_E=e.O()}]);