(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[939],{2691:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pricing",function(){return t(5919)}])},5919:function(e,n,t){"use strict";t.r(n);var r=t(5893),o=t(8790),i=t(8428),l=t(5054),u=t(894),c=t(3412),a=t(7294),s=t(7516),d=t(8193),f=t(9583),p=t(5434),x=t(2585),h=t(331),v=t(7470),g=t(4781),m=t(6075),b=t(5832);function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var j=[{text:"\u0648\u062c\u0628\u0627\u062a \u0645\u062a\u0646\u0648\u0639\u0629",icon:x.O04},{text:"\u0642\u064a\u0627\u0633 \u0627\u0644\u0643\u062a\u0644\u0629 ",icon:s.kGm},{text:"\u062d\u0633\u0627\u0628 \u0627\u0644\u0633\u0639\u0631\u0627\u062a",icon:d.o$9},{text:" \u062a\u0648\u0642\u0639\u0627\u062a \u0646\u0632\u0648\u0644 \u0627\u0644\u0648\u0632\u0646",icon:f.dAP},{text:"\u0648\u0633\u0627\u0626\u0644 \u062f\u0641\u0639 \u0627\u0645\u0646\u0647",icon:d.X9m},{text:"\u0634\u0647\u0631 \u0645\u062c\u0627\u0646\u064a \u0644\u062e\u062f\u0645\u0629 \u0627\u0644\u062a\u0645\u0631\u064a\u0646",icon:p.VzS},{text:"\u0627\u0633\u0628\u0648\u0639 \u0645\u062c\u0627\u0646\u0627 \u0644\u062e\u062f\u0645\u0629 \u0627\u062e\u0635\u0627\u0626\u064a \u0627\u0644\u0627\u063a\u0630\u064a\u0629",image:"/home/nutritionist.png"}],w=[{_id:"mealOne",title:"\u0628\u0627\u0642\u0629 \u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0648\u0627\u062d\u062f",feature:S(1),price:0,plan:null},{_id:"mealThree",price:0,title:"\u0628\u0627\u0642\u0629 3 \u0634\u0647\u0648\u0631",feature:S(2),plan:null},{_id:"mealSix",title:"\u0628\u0627\u0642\u0629 6 \u0634\u0647\u0648\u0631 ",price:0,feature:S(3),plan:null}];function S(e){return(0,r.jsx)(o.kC,{flexDir:"column",gap:"2",align:"center",children:j.map((function(n,t){if(!(1===e&&t>4)&&!(2===e&&t>5))return(0,r.jsxs)(o.kC,{w:"200px",align:"center",gap:"2",children:[n.icon?(0,r.jsx)(u.JO,{w:"8",h:"8",as:n.icon}):(0,r.jsx)(i.Ee,{src:n.image,w:"8",h:"8",alt:"nutritionist"}),(0,r.jsx)(o.xv,{fontWeight:"medium",fontSize:"lg",children:n.text})]},t)}))})}n.default=(0,c.Z)((function(e){var n,t=e.vistor,u=(0,h.oR)((function(e){return e.user})),c=(0,h.oR)((function(e){return e.prices})),s=(0,h.oR)((function(e){return e.setPrices})),d=(0,a.useState)(null),f=d[0],p=d[1],x=(0,a.useState)(w),j=x[0],S=x[1],k=(0,a.useState)(!1),C=k[0],_=k[1];return(0,a.useEffect)((function(){(0,v.xz)(s)}),[]),(0,a.useEffect)((function(){(null===c||void 0===c?void 0:c.length)&&(S(j.map((function(e){var n=c.find((function(n){return n._id===e._id}));return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){y(e,n,t[n])}))}return e}({},e,{plan:null!==n&&void 0!==n?n:null})}))),_(!1))}),[c]),(0,r.jsxs)(o.kC,{color:"orange.800",w:"100%",pt:"3",pb:"10",flexDir:"column",align:"center",children:[!f&&u&&(0,r.jsxs)(o.kC,{w:"100%",gap:"3",flexDir:{base:"column",md:"row"},align:"center",justify:"center",children:[(0,r.jsx)(i.Ee,{src:"/home/pay.png",width:"300",height:"300",alt:"pic"}),(0,r.jsx)(o.xv,{fontWeight:"bold",fontSize:{base:"lg",md:"xl"},children:"".concat(u.profile.name," \u060c\u0644\u0645 \u064a\u062a\u0628\u0642\u0649 \u0633\u0648\u0649 \u0627\u0644\u0642\u0644\u064a\u0644\u060c \u0644\u062f\u062e\u0648\u0644\u0643 \u0639\u0627\u0644\u0645 \u0627\u0644\u0643\u064a\u062a\u0648 \u0645\u0639\u0646\u0627")})]}),(0,r.jsxs)(o.kC,{flexDir:{base:"column",md:"row"},align:"center",justify:"space-around",w:"100%",children:[C&&(0,r.jsx)(g.Z,{}),!f&&!C&&j.map((function(e,i){var u;return(0,r.jsxs)(o.kC,{align:"center",border:"2px",bg:"orange.200",borderColor:"orange.100",flexDir:"column",h:"550px",w:"300px",borderRadius:"2xl",transition:"all 0.2s ease-out",transform:"scale(0.9)",cursor:"pointer",_hover:{transform:"scale(1)",transition:"all 0.2s ease-out",color:"orange.50",borderColor:"orange.500",bg:"orange.500"},sx:{"&:hover":{button:{bg:"orange.50",color:"orange.500"}}},boxShadow:"2xl",gap:"3",children:[(0,r.jsx)(o.xv,{my:"2",fontWeight:"bold",fontSize:"2xl",children:e.title}),e.feature,(0,r.jsxs)(o.kC,{w:"100%",flexDir:"column",mt:"auto",mb:"5",gap:"3",px:"5",align:"center",children:[(0,r.jsx)("hr",{style:{width:"100%",border:"2px dashed white"}}),(0,r.jsx)(o.kC,{align:"center",gap:"5",children:(0,r.jsxs)(o.kC,{align:"center",children:[(0,r.jsx)(o.xv,{fontSize:"2xl",ml:"1",fontWeight:"bold",as:"sup",children:"SAR"}),(0,r.jsx)(o.xv,{fontWeight:"bold",fontSize:"50px",children:null!==(n=null===(u=e.plan)||void 0===u?void 0:u.price)&&void 0!==n?n:"0"})]})}),(0,r.jsx)(l.zx,{onClick:function(){var n;t?(0,b.Z)("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0627\u0648\u0644\u0627","info"):p(null!==(n=e.plan)&&void 0!==n?n:null)},colorScheme:"orange",children:"\u0627\u0634\u062a\u0631\u0643 \u0627\u0644\u0627\u0646"})]})]},i)})),f&&(0,r.jsx)(m.Z,{setCheckout:p,plan:f})]})]})}),"pricing")},6075:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var r=t(4051),o=t.n(r),i=t(5893),l=t(8790),u=t(5021),c=t(9727),a=t(331),s=t(7294),d=t(1163);function f(e){var n=e.rText,t=e.lText,r=e.width,o=e.rBold,u=e.lBold;return(0,i.jsxs)(l.kC,{align:"center",gap:"1",wrap:"wrap",justify:"space-between",w:null!==r&&void 0!==r?r:"100%",children:[(0,i.jsxs)(l.xv,{fontWeight:o?"bold":"normal",children:[" ",n]}),(0,i.jsx)(l.xv,{fontWeight:u?"bold":"normal",children:t})]})}var p=t(4781),x=t(6107),h=t(7470);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function g(e,n,t,r,o,i,l){try{var u=e[i](l),c=u.value}catch(a){return void t(a)}u.done?n(c):Promise.resolve(c).then(r,o)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function l(e){g(i,r,o,l,u,"next",e)}function u(e){g(i,r,o,l,u,"throw",e)}l(void 0)}))}}function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],l=!0,u=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(c){u=!0,o=c}finally{try{l||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var n=e.plan,t=e.setCheckout;return(0,i.jsxs)(l.kC,{flexDir:"column",gap:"4",children:[n&&(0,i.jsxs)(l.kC,{flexDir:"column",w:{base:"200px",md:"500px"},py:"2",px:{base:"2",md:"6"},bg:"green.100",boxShadow:"md",borderRadius:"lg",gap:"2",color:"green.900",fontSize:{base:"lg",md:"xl"},children:[(0,i.jsx)(l.xv,{fontWeight:"bold",fontSize:{base:"xl",md:"2xl"},textAlign:"center",children:null===n||void 0===n?void 0:n.label}),(0,i.jsx)(f,{lBold:!0,lText:n.price,rText:"\u0631\u064a\u0627\u0644 \u0633\u0639\u0648\u062f\u064a"}),(0,i.jsx)("hr",{style:{border:"1px solid white"}}),(0,i.jsx)(f,{lBold:!0,lText:n.usd,rText:"\u062f\u0648\u0644\u0627\u0631 \u0627\u0645\u0631\u064a\u0643\u064a"})]}),(0,i.jsx)(u.Vv,{options:{"client-id":"AYTCP0tc6Sc1UURcx0uQtvtuUOhQJIXBoTyuBxShH5IllqUuYKYvgz6mTc3qS543O-6MqVNSk-M40s-P"},children:(0,i.jsx)(j,{plan:n,setCheckout:t})})]})}function j(e){var n=e.setCheckout,t=e.plan,r=b((0,u.Up)(),1)[0].isPending,l=(0,a.oR)((function(e){return e.user})),f=(0,a.oR)((function(e){return e.setUser})),v=function(){return n(null)},g=(0,s.useState)(!1),y=g[0],j=g[1],w=(0,d.useRouter)();function S(e){return k.apply(this,arguments)}function k(){return k=m(o().mark((function e(n){var r,i,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},i=u.length>2&&void 0!==u[2]?u[2]:t.usd.toString(),j(!0),e.next=4,(0,x._)({url:"/payments/".concat(null===l||void 0===l?void 0:l._id),data:{priceId:null===t||void 0===t?void 0:t._id,category:null===t||void 0===t?void 0:t.category,userId:null===l||void 0===l?void 0:l._id,paid:+i,paypal:r,isFailed:n},method:"post",successToast:"\u062a\u0645 \u0627\u0644\u0627\u0634\u062a\u0631\u0627\u0643 \u0628\u0646\u062c\u0627\u062d"});case 4:return j(!1),e.next=7,(0,h.BT)(l._id,f);case 7:"meal"===(null===t||void 0===t?void 0:t.category)?w.replace("/meals"):v();case 8:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function C(){return(C=m(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.jsxs)(i.Fragment,{children:[(r||y)&&(0,i.jsx)(p.Z,{}),(0,i.jsx)(c.x,{onClick:v,client:!0,path:"/pricing"}),(0,i.jsx)(u.ch,{style:{layout:"vertical",shape:"pill"},onCancel:v,onError:function(e){return C.apply(this,arguments)},createOrder:function(e,n){return n.order.create({purchase_units:[{amount:{value:t.usd.toString()}}],application_context:{brand_name:"KetoStyle"}})},onApprove:function(){var e=m(o().mark((function e(n,t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.order.capture();case 2:r=e.sent,S(!1,{orderId:r.id,payer:r.payer,method:n.paymentSource,status:r.status},r.purchase_units[0].amount.value);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()})]})}},3412:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(5893),o=t(1163),i=t(7294),l=t(4781),u=t(331),c=t(5110),a=t(5832);function s(e,n){return function(){var t=(0,o.useRouter)(),s=(0,i.useState)(!0),d=s[0],f=s[1],p=(0,i.useState)(!1),x=p[0],h=p[1],v=(0,i.useState)(!1),g=v[0],m=v[1],b=(0,u.oR)((function(e){return e.user})),y=(0,u.oR)((function(e){return e.prices}));return(0,i.useEffect)((function(){if(b&&(null===y||void 0===y?void 0:y.length))if("pricing"===n)(0,c.b)(b,"meal")?t.replace("/"):f(!1);else if("meal"===n){if(!(0,c.b)(b,"meal"))return t.replace("/pricing"),void(0,a.Z)("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u0627\u0644\u0627\u0634\u062a\u0631\u0627\u0643 \u0641\u064a \u0628\u0627\u0642\u0627\u062a \u0627\u0644\u0643\u064a\u062a\u0648","info");f(!1)}else(0,c.b)(b,n)?h(!0):h(!1),f(!1);(null===y||void 0===y?void 0:y.length)&&!b&&("pricing"===n?(m(!0),f(!1)):t.replace("/"))}),[b,y]),d?(0,r.jsx)(l.Z,{}):(0,r.jsx)(e,{user:b,isSubscriped:x,vistor:g})}}},9727:function(e,n,t){"use strict";t.d(n,{x:function(){return u}});var r=t(5893),o=t(5054),i=t(1163),l=t(155);function u(e){var n=e.path,t=e.client,u=e.onClick,c=(0,i.useRouter)();return(0,r.jsx)(o.zx,{onClick:function(){return u?u():c.replace(n)},position:"absolute",dir:"ltr",size:{base:"sm",md:"md"},width:{base:"100px",md:"120px"},leftIcon:(0,r.jsx)(l.Eg1,{fontSize:"25px"}),top:{base:t?"120px":"-1",md:t?"80px":"30px"},left:{base:"12px",md:"15px"},colorScheme:"yellow",color:"yellow.800",children:"\u0631\u062c\u0648\u0639"})}},4781:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(5893),o=t(8790),i=t(9609);function l(e){var n=e.text;return(0,r.jsxs)(o.kC,{p:"3",flex:"1",justifyContent:"center",flexDir:"column",alignItems:"center",children:[(0,r.jsx)(i.$,{transform:"translate(-50%, -50%)",thickness:"7px",speed:"0.65s",w:"8rem",h:"8rem",emptyColor:"orange.200",color:"orange.700"}),n&&(0,r.jsx)(o.xv,{children:n})]})}}},function(e){e.O(0,[260,445,617,874,21,774,888,179],(function(){return n=2691,e(e.s=n);var n}));var n=e.O();_N_E=n}]);