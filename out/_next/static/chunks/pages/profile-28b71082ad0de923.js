(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{6896:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(7313)}])},7313:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return A}});var t=r(5893),o=r(3957),u=r(7294),i=r(331),c=r(1163),a=r(4781);function s(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var l=r(7176),f=r(8790),d=r(2496);function p(e){switch(e){case"meal":return"\u0628\u0627\u0642\u0629 \u0648\u062c\u0628\u0627\u062a \u0627\u0644\u0643\u064a\u062a\u0648";case"workout":return"\u0628\u0627\u0642\u0629 \u0627\u0644\u062a\u0645\u0627\u0631\u064a\u0646 ";case"nutritionist":return"\u0628\u0627\u0642\u0629 \u0627\u062e\u0635\u0627\u0626\u064a \u0627\u0644\u062a\u063a\u0626\u064a\u0629"}}function b(){var e=(0,u.useState)(!0),n=e[0],r=e[1],o=(0,u.useState)(!1),c=o[0],s=o[1],l=(0,u.useState)([]),p=l[0],b=l[1],m=(0,i.oR)((function(e){return e.user}));return(0,d.r)(c?null:{url:"/payments/user/"+m._id},b,{onRequest:function(){return s(!0)},onSuccess:function(e){r(!1)}}),(0,t.jsxs)(f.kC,{flexDir:"column",gap:"3",bg:"orange.200",borderRadius:"lg",w:"100%",p:"2",children:[n&&(0,t.jsx)(a.Z,{}),!n&&0===p.length&&(0,t.jsx)(f.xv,{fontWeight:"bold",textAlign:"center",children:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0627\u064a \u0645\u062f\u0641\u0648\u0639\u0627\u062a"}),!n&&p.length>0&&p.map((function(e,n){return(0,t.jsx)(h,{payment:e},n)}))]})}function h(e){var n=e.payment;return(0,t.jsxs)(f.kC,{bg:"white",p:"2",px:"3",borderRadius:"xl",boxShadow:"xl",justify:"space-between",w:"100%",align:"center",children:[(0,t.jsxs)(f.kC,{flexDir:"column",gap:"2",align:"center",children:[(0,t.jsxs)(f.kC,{gap:"2",align:"center",children:[(0,t.jsxs)(f.xv,{fontSize:{base:"md",md:"lg"},fontWeight:"bold",children:[" ",n.paid," \u0631\u064a\u0627\u0644"]}),(0,t.jsxs)(f.Ct,{p:{base:"1",md:"2"},fontSize:{base:"md",md:"lg"},borderRadius:"full",colorScheme:"success"===n.status?"green":"red",children:[" ","success"===n.status?"\u0639\u0645\u0644\u064a\u0629 \u0646\u0627\u062c\u062d\u0629":"\u0639\u0645\u0644\u064a\u0629 \u0641\u0634\u0644\u062a"]})]}),(0,t.jsx)(f.xv,{children:new Date(n.createdAt).toLocaleDateString("ar",{dateStyle:"full"})})]}),(0,t.jsx)(f.Ct,{fontSize:{base:"md",md:"lg"},p:{base:"2",md:"5"},borderRadius:"full",colorScheme:"purple",children:p(n.category)})]})}var m=r(4051),x=r.n(m),g=r(5054),v=r(1018),j=r(8873),y=r(6107);function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function S(e,n,r,t,o,u,i){try{var c=e[u](i),a=c.value}catch(s){return void r(s)}c.done?n(a):Promise.resolve(a).then(t,o)}function O(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var u=e.apply(n,r);function i(e){S(u,t,o,i,c,"next",e)}function c(e){S(u,t,o,i,c,"throw",e)}i(void 0)}))}}function k(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function P(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){k(e,n,r[n])}))}return e}function R(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return w(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C={submitActive:!0,submitLoading:!1,loadingText:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"};function _(){var e=function(e){var n=a.find((function(n){return n===e})),r=R(a);n?(r=a.filter((function(n){return n!==e})),s(r)):(r=R(a).concat([e]),s(r)),p(!0)},n=function(e){!e&&s(r.categories),p(!1),m(C)},r=(0,i.oR)((function(e){return e.user})),o=(0,i.oR)((function(e){return e.setUser})),c=(0,u.useState)(r.categories),a=c[0],s=c[1],l=(0,u.useState)(!1),d=l[0],p=l[1],b=(0,u.useState)(C),h=b[0],m=b[1];function w(){return(w=O(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(P({},h,{submitLoading:!0})),e.next=3,(0,y._)({url:"/users/meats/".concat(r._id),method:"post",data:a,successToast:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d"});case 3:(t=e.sent)&&o(t),n(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.jsxs)(f.kC,{flexDir:"column",w:{base:"90%",md:"60%"},mx:"auto",bg:"orange.200",p:"5",boxShadow:"lg",borderRadius:"lg",align:"center",children:[(0,t.jsx)(f.xv,{fontSize:{base:"lg",md:"xl"},fontWeight:"bold",children:"\u0627\u062e\u062a\u0631 \u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0644\u062d\u0648\u0645 \u0627\u0644\u0644\u062a\u064a \u062a\u0641\u0636\u0644\u0647\u0627"}),(0,t.jsxs)(f.kC,{w:"100%",my:"2",flexDir:{base:"column",md:"row"},align:"center",gap:"3",justify:"space-between",children:[(0,t.jsx)(f.kC,{align:"center",flexDir:"column",gap:"2",children:v.Lp.map((function(n,r){if(!(r>=3))return(0,t.jsx)(g.zx,{w:"150px",onClick:function(){return e(n.value)},leftIcon:n.icon,colorScheme:"orange",variant:-1===a.indexOf(n.value)?"ghost":"solid",background:-1===a.indexOf(n.value)?"orange.50":"orange.500",children:n.label},r)}))}),(0,t.jsx)(f.kC,{mb:"3",align:"center",flexDir:"column",gap:"2",children:v.Lp.map((function(n,r){if(!(r<=2))return(0,t.jsx)(g.zx,{w:"150px",onClick:function(){return e(n.value)},leftIcon:n.icon,colorScheme:"orange",variant:-1===a.indexOf(n.value)?"ghost":"solid",background:-1===a.indexOf(n.value)?"orange.50":"orange.500",children:n.label},r)}))})]}),(0,t.jsx)(j.Z,{onReset:n,onSubmit:function(){return w.apply(this,arguments)},display:d?"flex":"none",submitButton:h})]})}var E=r(2946);var D,A=(D=function(e){var n=e.user,r=function(e){var n=0;switch(e){case"account":default:n=0;break;case"measurements":n=1;break;case"meal":n=2;break;case"payments":n=3}return n},c=(0,i.oR)((function(e){return e.user})),a=(0,u.useState)(!!(null===c||void 0===c?void 0:c.role)),s=a[0],f=a[1],d=(0,i.oR)((function(e){return e.profile})),p=(0,u.useState)(s?0:r(d)),h=p[0],m=p[1];return(0,u.useEffect)((function(){s||m(r(d))}),[d]),(0,u.useEffect)((function(){(null===c||void 0===c?void 0:c.role)?f(!0):f(!1)}),[c]),(0,t.jsxs)(o.mQ,{onChange:function(e){return m(e)},index:h,isFitted:!0,variant:"soft-rounded",colorScheme:"orange",children:[(0,t.jsxs)(o.td,{mb:"1em",children:[(0,t.jsx)(o.OK,{children:"\u062d\u0633\u0627\u0628\u064a "}),!s&&(0,t.jsx)(o.OK,{children:"\u0642\u064a\u0627\u0633\u0627\u062a\u064a"}),!s&&(0,t.jsx)(o.OK,{children:" \u0648\u062c\u0628\u0627\u062a\u064a"}),!s&&(0,t.jsx)(o.OK,{children:"\u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a"})]}),(0,t.jsxs)(o.nP,{children:[(0,t.jsx)(o.x4,{children:(0,t.jsx)(l.Z,{user:n})}),!s&&(0,t.jsx)(o.x4,{children:(0,t.jsx)(E.Z,{shouldRender:!s,user:n})}),!s&&(0,t.jsx)(o.x4,{children:(0,t.jsx)(_,{})}),!s&&(0,t.jsx)(o.x4,{children:(0,t.jsx)(b,{})})]})]})},function(e){if(void 0!==window){var n=(0,i.oR)((function(e){return e.user})),r=(0,c.useRouter)();if(n||r.push("/"),n)return(0,t.jsx)(D,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){s(e,n,r[n])}))}return e}({user:n},e))}return(0,t.jsx)(a.Z,{})})},2496:function(e,n,r){"use strict";r.d(n,{r:function(){return f}});var t=r(4051),o=r.n(t),u=r(7294),i=r(6107);function c(e,n,r,t,o,u,i){try{var c=e[u](i),a=c.value}catch(s){return void r(s)}c.done?n(a):Promise.resolve(a).then(t,o)}function a(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var u=e.apply(n,r);function i(e){c(u,t,o,i,a,"next",e)}function a(e){c(u,t,o,i,a,"throw",e)}i(void 0)}))}}function s(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){s(e,n,r[n])}))}return e}function f(e,n,r){var t=(0,u.useState)(!1),c=t[0],s=t[1],f=(0,u.useRef)(!0);function d(){return(d=a(o().mark((function e(n,t){var u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i._)(l({},n));case 2:(u=e.sent)&&f.current&&(r&&r.onSuccess&&r.onSuccess(u),t&&t(u),s(!0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.useEffect)((function(){return f.current=!0,e?(!function(e,n){d.apply(this,arguments)}(e,n),r&&r.onRequest&&r.onRequest()):s(!1),function(){f.current=!1}}),[e]),{data:c}}}},function(e){e.O(0,[957,26,774,888,179],(function(){return n=6896,e(e.s=n);var n}));var n=e.O();_N_E=n}]);