(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{7265:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/passwordreset",function(){return t(7856)}])},7856:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return b}});var r=t(4051),o=t.n(r),s=t(5893),i=t(8790),a=t(3789),u=t(4612),c=t(1163),d=t(7294),l=t(6107),f=t(8873),p=t(5832);function w(n,e,t,r,o,s,i){try{var a=n[s](i),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,o)}function m(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var s=n.apply(e,t);function i(n){w(s,r,o,i,a,"next",n)}function a(n){w(s,r,o,i,a,"throw",n)}i(void 0)}))}}function h(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){h(n,e,t[e])}))}return n}var x=/(?=^\S*$)(?=.{8,})/;function b(){var n=function(){return!(E.password!==E.confirmPassword||!x.test(E.confirmPassword))},e=(0,c.useRouter)(),t=e.query,r=t.id,w=t.token,b=t.init,g=void 0===b?"1":b,y=Math.floor((Date.now()-+g)/1e3/60);(0,d.useEffect)((function(){var n="";Object.keys(e.query).length&&(r&&w||(e.replace("/"),n="true"),y>59&&(e.replace("/"),n="true"),"true"===n&&(0,p.Z)("\u0647\u0630\u0627 \u0627\u0644\u0631\u0627\u0628\u0637 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d \u0644\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645"))}),[e]);var j=(0,d.useState)("none"),k=j[0],P=j[1],S={submitActive:!0,submitLoading:!1,loadingText:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"},_=(0,d.useState)(S),O=_[0],I=_[1],C=(0,d.useState)({password:"",confirmPassword:""}),E=C[0],N=C[1];function T(n){return z.apply(this,arguments)}function z(){return(z=m(o().mark((function n(e){var t,r,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.target,r=t.name,s=t.value,N(v({},E,h({},r,s)));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function A(){return(A=m(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n()){t.next=2;break}return t.abrupt("return",(0,p.Z)("\u062a\u0627\u0643\u062f \u0645\u0646 \u0635\u062d\u0629 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"));case 2:return t.next=4,(0,l._)({url:"/users/updatepassword",method:"patch",data:{userId:r,token:w,password:E.password},successToast:"\u062a\u0645 \u062a\u063a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0628\u0646\u062c\u0627\u062d"});case 4:e.replace("/");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,d.useEffect)((function(){n()?(P("flex"),I(S)):(P("flex"),I(v({},S,{submitActive:!1})))}),[E]),(0,s.jsxs)(i.kC,{p:"5",align:"center",gap:"5",maxW:"600px",mx:"auto",flexDir:"column",children:[(0,s.jsx)(i.xv,{my:"5",fontWeight:"bold",fontSize:"xl",children:"\u0627\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629"}),(0,s.jsxs)(a.NI,{isInvalid:!x.test(E.password),color:"orange.900",children:[(0,s.jsx)(a.lX,{fontSize:"lg",htmlFor:"password",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"}),(0,s.jsx)(u.II,{id:"password",type:"password",value:E.password,name:"password",onChange:T,bg:"white"}),(0,s.jsx)(a.J1,{children:" \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0644\u0627 \u062a\u0642\u0644 \u0639\u0646 8 \u062d\u0631\u0648\u0641"})]}),(0,s.jsxs)(a.NI,{isInvalid:!n(),color:"orange.900",children:[(0,s.jsxs)(a.lX,{fontSize:"lg",htmlFor:"confirm",children:["\u062a\u0627\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"," "]}),(0,s.jsx)(u.II,{id:"confirm",type:"password",value:E.confirmPassword,name:"confirmPassword",onChange:T,bg:"white"}),(0,s.jsxs)(a.J1,{children:[" ","\u062a\u0627\u0643\u062f \u0645\u0646 \u0627\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0645\u062a\u0645\u0627\u062b\u0644\u0629 \u0648\u0644\u0627\u062a\u0642\u0644 \u0639\u0646 8 \u062d\u0631\u0648\u0641"]})]}),(0,s.jsx)(f.Z,{onReset:function(){P("none"),I(S),N({password:"",confirmPassword:""})},onSubmit:function(){return A.apply(this,arguments)},display:k,submitButton:O})]})}},8873:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(5893),o=t(8790),s=t(5054);function i(n){var e=n.onReset,t=void 0===e?function(){}:e,i=n.onSubmit,a=void 0===i?function(){}:i,u=n.display,c=void 0===u?"none":u,d=n.submitButton,l=void 0===d?{submitActive:!1,submitLoading:!1,loadingText:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}:d;return(0,r.jsxs)(o.kC,{display:c,my:"2",align:"center",w:"100%",justify:"space-around",children:[(0,r.jsx)(s.zx,{w:{base:"120px",md:"200px"},colorScheme:"yellow",onClick:t,children:"\u0627\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a"}),(0,r.jsx)(s.zx,{isLoading:l.submitLoading,loadingText:l.loadingText,disabled:!l.submitActive,w:{base:"120px",md:"200px"},colorScheme:"green",onClick:a,children:"\u062d\u0641\u0638 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a"})]})}}},function(n){n.O(0,[774,888,179],(function(){return e=7265,n(n.s=e);var e}));var e=n.O();_N_E=e}]);