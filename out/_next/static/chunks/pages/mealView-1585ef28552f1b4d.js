(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[432],{2125:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mealView",function(){return t(7141)}])},7141:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var r=t(4051),o=t.n(r),i=t(5893),u=t(8790),c=t(8428),a=t(5054),s=t(7294),l=t(6107),d=t(2496),f=t(331),m=t(894),x=t(9583);function p(e){var n=e.title,t=e.texts,r=e.isValues;return(0,i.jsxs)(u.kC,{flexDir:"column",align:"center",p:"2",bg:"orange.200",rounded:"xl",w:"250px",h:"350px",children:[(0,i.jsx)(u.xv,{fontSize:"2xl",mt:"2",mb:"3",fontWeight:"bold",children:n}),(0,i.jsx)(u.kC,{flexDir:"column",mt:r?7:0,w:"100%",px:"1",gap:"2",children:t.map((function(e,n){return(0,i.jsxs)(u.kC,{align:"center",gap:"1",children:[(0,i.jsx)(m.JO,{as:x.gbA,w:"2",color:"orange.800"}),(0,i.jsx)(u.xv,{fontSize:r?"lg":"md",fontWeight:"semibold",children:e})]},n)}))})]})}var v=t(9727),h=t(1163);function g(e,n,t,r,o,i,u){try{var c=e[i](u),a=c.value}catch(s){return void t(s)}c.done?n(a):Promise.resolve(a).then(r,o)}function w(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function u(e){g(i,r,o,u,c,"next",e)}function c(e){g(i,r,o,u,c,"throw",e)}u(void 0)}))}}var b=function(){return(new Date).toLocaleDateString("en")};function y(){var e=(0,f.oR)((function(e){return e.mealView})),n=(0,f.oR)((function(e){return e.user})),t=(0,s.useState)(!1),r=t[0],m=t[1],x=(0,s.useState)(!1),g=x[0],y=x[1],j=(0,s.useState)(!(null===n||void 0===n?void 0:n.role)),_=j[0],k=j[1],S=(0,h.useRouter)();function C(){return(C=w(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,(0,l._)({url:"/users/addmeal/"+n._id,method:"post",data:{mealId:e._id,date:b(),time:S.query.time?e.time:e.time.value},successToast:"\u062a\u0645 \u0627\u0636\u0627\u0641\u0647 \u0627\u0644\u0648\u062c\u0628\u0647 \u0628\u0646\u062c\u0627\u062d",errorToast:"\u062d\u062f\u062b \u062e\u0637\u0627 \u0628\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627"});case 3:r=t.sent,m(!1),r&&y(!0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=w(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,(0,l._)({url:"/users/deletemeal/"+n._id,method:"delete",data:{mealId:e._id,date:b(),time:S.query.time?e.time:e.time.value},successToast:"\u062a\u0645 \u0627\u0644\u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d",errorToast:"\u062d\u062f\u062b \u062e\u0637\u0627 \u0628\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627"});case 3:r=t.sent,m(!1),r&&y(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,d.r)(_?{url:"/users/ismealadded/".concat(null===n||void 0===n?void 0:n._id,"?queryDate=").concat(b(),"&mealId=").concat(null===e||void 0===e?void 0:e._id,"&time=").concat(S.query.time?S.query.time:null===e||void 0===e?void 0:e.time.value)}:null,null,{onRequest:function(){return k(!1)},onSuccess:function(e){"added"===(null===e||void 0===e?void 0:e.message)?y(!0):y(!1)}}),(0,i.jsxs)(u.kC,{flexDir:"column",color:"orange.800",layerStyle:"flexCenter",position:"relative",p:"2",gap:"2",children:[(0,i.jsx)(v.x,{path:(null===n||void 0===n?void 0:n.role)?"/admin/meals":"meals"}),e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Ee,{mt:{base:"8",md:"1"},src:e.image.url?e.image.url:"https://res.cloudinary.com/ketoar/image/upload/v1/".concat(e.image),rounded:"3xl",alt:"meal",w:{base:"60%",md:"40%"}}),(0,i.jsxs)(u.kC,{align:"center",flexDir:"column",children:[(0,i.jsx)(u.xv,{fontSize:{base:"lg",md:"3xl"},fontWeight:"bold",children:e.name}),(0,i.jsxs)(u.xv,{fontSize:{base:"sm",md:"md"},fontWeight:"",children:["\u0645\u062f\u0629 \u062a\u062d\u0636\u064a\u0631 \u0627\u0644\u0648\u062c\u0628\u0629 ",e.duration," \u062f\u0642\u0627\u0626\u0642"]})]}),(0,i.jsxs)(u.kC,{justify:"space-around",flexDir:{base:"column",md:"row"},w:"100%",gap:"3",align:"center",children:[(0,i.jsx)(p,{isValues:!0,title:"\u0627\u0644\u0642\u064a\u0645 \u0627\u0644\u063a\u0630\u0627\u0626\u064a\u0647",texts:[" \u0627\u0644\u0633\u0639\u0631\u0627\u062a \u0627\u0644\u062d\u0631\u0627\u0631\u064a\u0629: ".concat(e.calories," \u0633"),"\u0627\u0644\u0643\u0627\u0631\u0628\u0648\u0647\u064a\u062f\u0631\u0627\u062a: ".concat(e.carbs," \u063a\u0645"),"\u0627\u0644\u0628\u0631\u0648\u062a\u064a\u0646: ".concat(e.proteins," \u063a\u0645"),"\u0627\u0644\u062f\u0647\u0648\u0646: ".concat(e.fats," \u063a\u0645")]}),(0,i.jsx)(p,{isValues:!1,title:"\u0627\u0644\u0645\u0642\u0627\u062f\u064a\u0631",texts:e.components})]}),(0,i.jsxs)(u.kC,{flexDir:"column",my:"4",w:"80%",mx:"auto",gap:"2",children:[(0,i.jsx)(u.xv,{fontSize:{base:"lg",md:"3xl"},fontWeight:"bold",children:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062a\u062d\u0636\u064a\u0631"}),(0,i.jsx)(u.xv,{children:e.steps})]}),!(null===n||void 0===n?void 0:n.role)&&(0,i.jsx)(a.zx,{onClick:g?function(){return O.apply(this,arguments)}:function(){return C.apply(this,arguments)},colorScheme:g?"red":"orange",w:"70%",loadingText:g?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0630\u0641":"\u062c\u0627\u0631\u064a \u0627\u0644\u0627\u0636\u0627\u0641\u0629",isLoading:r,mx:"auto",children:g?"\u062d\u0630\u0641":"\u0627\u0636\u0641 \u0627\u0644\u0648\u062c\u0628\u0629 \u0627\u0644\u064a \u0627\u0644\u0642\u0627\u0626\u0645\u0629"})]})]})}},2496:function(e,n,t){"use strict";t.d(n,{r:function(){return d}});var r=t(4051),o=t.n(r),i=t(7294),u=t(6107);function c(e,n,t,r,o,i,u){try{var c=e[i](u),a=c.value}catch(s){return void t(s)}c.done?n(a):Promise.resolve(a).then(r,o)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function u(e){c(i,r,o,u,a,"next",e)}function a(e){c(i,r,o,u,a,"throw",e)}u(void 0)}))}}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}function d(e,n,t){var r=(0,i.useState)(!1),c=r[0],s=r[1],d=(0,i.useRef)(!0);function f(){return(f=a(o().mark((function e(n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u._)(l({},n));case 2:(i=e.sent)&&d.current&&(t&&t.onSuccess&&t.onSuccess(i),r&&r(i),s(!0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.useEffect)((function(){return d.current=!0,e?(!function(e,n){f.apply(this,arguments)}(e,n),t&&t.onRequest&&t.onRequest()):s(!1),function(){d.current=!1}}),[e]),{data:c}}},9727:function(e,n,t){"use strict";t.d(n,{x:function(){return c}});var r=t(5893),o=t(5054),i=t(1163),u=t(155);function c(e){var n=e.path,t=e.client,c=e.onClick,a=(0,i.useRouter)();return(0,r.jsx)(o.zx,{onClick:function(){return c?c():a.replace(n)},position:"absolute",dir:"ltr",size:{base:"sm",md:"md"},width:{base:"100px",md:"120px"},leftIcon:(0,r.jsx)(u.Eg1,{fontSize:"25px"}),top:{base:t?"120px":"-1",md:t?"80px":"30px"},left:{base:"12px",md:"15px"},colorScheme:"yellow",color:"yellow.800",children:"\u0631\u062c\u0648\u0639"})}}},function(e){e.O(0,[260,445,774,888,179],(function(){return n=2125,e(e.s=n);var n}));var n=e.O();_N_E=n}]);