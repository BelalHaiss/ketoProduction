(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[939],{2691:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pricing",function(){return t(5919)}])},5919:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(8790),o=t(8428),l=t(5054),c=t(894),u=t(3412),s=t(7294),a=t(7516),d=t(8193),p=t(9583),f=t(5434),x=t(2585),h=t(331),v=t(7470),g=t(4781),m=t(6075),b=t(5832);function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var y=[{text:"\u0648\u062c\u0628\u0627\u062a \u0645\u062a\u0646\u0648\u0639\u0629",icon:x.O04},{text:"\u0642\u064a\u0627\u0633 \u0627\u0644\u0643\u062a\u0644\u0629 ",icon:a.kGm},{text:"\u062d\u0633\u0627\u0628 \u0627\u0644\u0633\u0639\u0631\u0627\u062a",icon:d.o$9},{text:" \u062a\u0648\u0642\u0639\u0627\u062a \u0646\u0632\u0648\u0644 \u0627\u0644\u0648\u0632\u0646",icon:p.dAP},{text:"\u0648\u0633\u0627\u0626\u0644 \u062f\u0641\u0639 \u0627\u0645\u0646\u0647",icon:d.X9m},{text:"\u0634\u0647\u0631 \u0645\u062c\u0627\u0646\u064a \u0644\u062e\u062f\u0645\u0629 \u0627\u0644\u062a\u0645\u0631\u064a\u0646",icon:f.VzS},{text:"\u0627\u0633\u0628\u0648\u0639 \u0645\u062c\u0627\u0646\u0627 \u0644\u062e\u062f\u0645\u0629 \u0627\u062e\u0635\u0627\u0626\u064a \u0627\u0644\u0627\u063a\u0630\u064a\u0629",image:"/home/nutritionist.png"}],w=[{_id:"mealOne",title:"\u0628\u0627\u0642\u0629 \u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0648\u0627\u062d\u062f",feature:S(1),price:0,plan:null},{_id:"mealThree",price:0,title:"\u0628\u0627\u0642\u0629 3 \u0634\u0647\u0648\u0631",feature:S(2),plan:null},{_id:"mealSix",title:"\u0628\u0627\u0642\u0629 6 \u0634\u0647\u0648\u0631 ",price:0,feature:S(3),plan:null}];function S(e){return(0,r.jsx)(i.kC,{flexDir:"column",gap:"2",align:"center",children:y.map((function(n,t){if(!(1===e&&t>4)&&!(2===e&&t>5))return(0,r.jsxs)(i.kC,{w:"200px",align:"center",gap:"2",children:[n.icon?(0,r.jsx)(c.JO,{w:"8",h:"8",as:n.icon}):(0,r.jsx)(o.Ee,{src:n.image,w:"8",h:"8",alt:"nutritionist"}),(0,r.jsx)(i.xv,{fontWeight:"medium",fontSize:"lg",children:n.text})]},t)}))})}n.default=(0,u.Z)((function(e){var n=e.vistor,t=(0,h.oR)((function(e){return e.user})),c=(0,h.oR)((function(e){return e.prices})),u=(0,h.oR)((function(e){return e.setPrices})),a=(0,s.useState)(null),d=a[0],p=a[1],f=(0,s.useState)(w),x=f[0],y=f[1],S=(0,s.useState)(!0),k=S[0],C=S[1];return(0,s.useEffect)((function(){(0,v.xz)(u,C)}),[]),(0,s.useEffect)((function(){(null===c||void 0===c?void 0:c.length)&&(y(x.map((function(e){var n=c.find((function(n){return n._id===e._id}));return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){j(e,n,t[n])}))}return e}({},e,{plan:null!==n&&void 0!==n?n:null})}))),C(!1))}),[c]),(0,r.jsxs)(i.kC,{color:"orange.800",w:"100%",pt:"3",pb:"10",flexDir:"column",align:"center",children:[!d&&t&&(0,r.jsxs)(i.kC,{w:"100%",gap:"3",flexDir:{base:"column",md:"row"},align:"center",justify:"center",children:[(0,r.jsx)(o.Ee,{src:"/home/pay.png",width:"300",height:"300",alt:"pic"}),(0,r.jsx)(i.xv,{fontWeight:"bold",fontSize:{base:"lg",md:"xl"},children:"".concat(t.profile.name," \u060c\u0644\u0645 \u064a\u062a\u0628\u0642\u0649 \u0633\u0648\u0649 \u0627\u0644\u0642\u0644\u064a\u0644\u060c \u0644\u062f\u062e\u0648\u0644\u0643 \u0639\u0627\u0644\u0645 \u0627\u0644\u0643\u064a\u062a\u0648 \u0645\u0639\u0646\u0627")})]}),(0,r.jsxs)(i.kC,{flexDir:{base:"column",md:"row"},align:"center",justify:"space-around",w:"100%",children:[k&&(0,r.jsx)(g.Z,{}),!d&&!k&&x.map((function(e,t){var o,c,u,s;return(0,r.jsxs)(i.kC,{align:"center",border:"2px",bg:"orange.200",borderColor:"orange.100",flexDir:"column",h:"550px",w:"300px",borderRadius:"2xl",transition:"all 0.2s ease-out",transform:"scale(0.9)",cursor:"pointer",_hover:{transform:"scale(1)",transition:"all 0.2s ease-out",color:"orange.50",borderColor:"orange.500",bg:"orange.500"},sx:{"&:hover":{button:{bg:"orange.50",color:"orange.500"}}},boxShadow:"2xl",gap:"3",children:[(0,r.jsx)(i.xv,{my:"2",fontWeight:"bold",fontSize:"2xl",children:e.title}),e.feature,(0,r.jsxs)(i.kC,{w:"100%",flexDir:"column",mt:"auto",mb:"5",gap:"3",px:"5",align:"center",children:[(0,r.jsx)("hr",{style:{width:"100%",border:"2px dashed white"}}),(0,r.jsxs)(i.kC,{align:"center",gap:"3",children:[(0,r.jsxs)(i.kC,{align:"center",children:[(0,r.jsx)(i.xv,{fontSize:"2xl",ml:"1",fontWeight:"bold",as:"sup",children:"SAR"}),(0,r.jsx)(i.xv,{fontWeight:"bold",fontSize:"50px",children:null===(o=e.plan)||void 0===o?void 0:o.price})]}),e.plan&&(null===(c=e.plan)||void 0===c?void 0:c.discount)>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{height:"65",width:"20",children:(0,r.jsx)("line",{x1:"0",y1:"55",x2:"20",y2:"0",style:{stroke:"#4A5568",strokeWidth:"3px"}})}),(0,r.jsxs)(i.kC,{color:"#4A5568",position:"relative",align:"center",children:[(0,r.jsx)("svg",{height:"60",style:{position:"absolute",width:"100%"},children:(0,r.jsx)("line",{x1:"0",y1:"20",x2:"100%",y2:"20",style:{stroke:"#4A5568",strokeWidth:"3px"}})}),(0,r.jsx)(i.xv,{fontSize:"md",ml:"1",as:"sup",children:"SAR"}),(0,r.jsx)(i.xv,{fontSize:"30px",mt:"-2",children:(null===(u=e.plan)||void 0===u?void 0:u.price)+(null===(s=e.plan)||void 0===s?void 0:s.discount)})]})]})]}),(0,r.jsx)(l.zx,{onClick:function(){var t;n?(0,b.Z)("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0627\u0648\u0644\u0627","info"):p(null!==(t=e.plan)&&void 0!==t?t:null)},colorScheme:"orange",children:"\u0627\u0634\u062a\u0631\u0643 \u0627\u0644\u0627\u0646"})]})]},t)})),d&&(0,r.jsx)(m.Z,{setCheckout:p,plan:d})]})]})}),"pricing")},6075:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var r=t(4051),i=t.n(r),o=t(5893),l=t(8790),c=t(6886),u=t(5021),s=t(9727),a=t(331),d=t(7294),p=t(1163);function f(e){var n=e.rText,t=e.lText,r=e.width,i=e.rBold,c=e.lBold;return(0,o.jsxs)(l.kC,{align:"center",gap:"1",wrap:"wrap",justify:"space-between",w:null!==r&&void 0!==r?r:"100%",children:[(0,o.jsxs)(l.xv,{fontWeight:i?"bold":"normal",children:[" ",n]}),(0,o.jsx)(l.xv,{fontWeight:c?"bold":"normal",children:t})]})}var x=t(4781),h=t(6107),v=t(7470);function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function m(e,n,t,r,i,o,l){try{var c=e[o](l),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function b(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function l(e){m(o,r,i,l,c,"next",e)}function c(e){m(o,r,i,l,c,"throw",e)}l(void 0)}))}}function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],l=!0,c=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);l=!0);}catch(u){c=!0,i=u}finally{try{l||null==t.return||t.return()}finally{if(c)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var n=e.plan,t=e.setCheckout;return(0,o.jsxs)(l.kC,{flexDir:"column",gap:"4",children:[n&&(0,o.jsxs)(l.kC,{flexDir:"column",w:{base:"200px",md:"500px"},py:"2",px:{base:"2",md:"6"},bg:"green.100",boxShadow:"md",borderRadius:"lg",gap:"2",color:"green.900",fontSize:{base:"lg",md:"xl"},children:[(0,o.jsx)(l.xv,{fontWeight:"bold",fontSize:{base:"xl",md:"2xl"},textAlign:"center",children:null===n||void 0===n?void 0:n.label}),(0,o.jsx)(f,{lBold:!0,lText:n.price,rText:"\u0631\u064a\u0627\u0644 \u0633\u0639\u0648\u062f\u064a"}),(0,o.jsx)("hr",{style:{border:"1px solid white"}}),(0,o.jsx)(f,{lBold:!0,lText:n.usd,rText:"\u062f\u0648\u0644\u0627\u0631 \u0627\u0645\u0631\u064a\u0643\u064a"})]}),(0,o.jsxs)(c.bZ,{fontSize:"lg",variant:"solid",borderRadius:"xl",status:"warning",children:[(0,o.jsx)(c.zM,{}),"\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0627\u0644\u063a\u0629 \u0627\u0644\u0627\u0646\u062c\u0644\u064a\u0632\u064a\u0629"," "]}),(0,o.jsx)(u.Vv,{options:{"client-id":"AYTCP0tc6Sc1UURcx0uQtvtuUOhQJIXBoTyuBxShH5IllqUuYKYvgz6mTc3qS543O-6MqVNSk-M40s-P",intent:"subscription",vault:!0},children:(0,o.jsx)(w,{plan:n,setCheckout:t})})]})}function w(e){var n=e.setCheckout,t=e.plan,r=j((0,u.Up)(),1)[0].isPending,l=(0,a.oR)((function(e){return e.user})),c=(0,a.oR)((function(e){return e.setUser})),f=function(){return n(null)},g=(0,d.useState)(!1),m=g[0],y=g[1],w=(0,p.useRouter)();function S(e){return k.apply(this,arguments)}function k(){return k=b(i().mark((function e(n){var r,o,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},o=u.length>2&&void 0!==u[2]?u[2]:t.usd.toString(),y(!0),e.next=4,(0,h._)({url:"/payments/".concat(null===l||void 0===l?void 0:l._id),data:{priceId:null===t||void 0===t?void 0:t._id,category:null===t||void 0===t?void 0:t.category,userId:null===l||void 0===l?void 0:l._id,paid:+o,paypal:r,isFailed:n},method:"post",successToast:"\u062a\u0645 \u0627\u0644\u0627\u0634\u062a\u0631\u0627\u0643 \u0628\u0646\u062c\u0627\u062d"});case 4:return y(!1),e.next=7,(0,v.BT)(l._id,c);case 7:"meal"===(null===t||void 0===t?void 0:t.category)?w.replace("/expectation"):f();case 8:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function C(){return(C=b(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.jsxs)(o.Fragment,{children:[(r||m)&&(0,o.jsx)(x.Z,{}),(0,o.jsx)(s.x,{onClick:f,client:!0,path:"/pricing"}),(0,o.jsx)(u.ch,{style:{layout:"vertical",shape:"pill"},onCancel:f,onError:function(e){return C.apply(this,arguments)},createSubscription:function(e,n){return n.subscription.create({plan_id:t.planId})},onApprove:function(){var e=b(i().mark((function e(n,t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!1,{method:n.paymentSource,orderID:n.orderID,payerID:n.payerID,paymentID:n.paymentID,subscriptionID:n.subscriptionID});case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()})]})}},3412:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(5893),i=t(1163),o=t(7294),l=t(4781),c=t(331),u=t(5110),s=t(5832);function a(e,n){return function(){var t=(0,i.useRouter)(),a=(0,o.useState)(!0),d=a[0],p=a[1],f=(0,o.useState)(!1),x=f[0],h=f[1],v=(0,o.useState)(!1),g=v[0],m=v[1],b=(0,c.oR)((function(e){return e.user})),j=(0,c.oR)((function(e){return e.prices}));return(0,o.useEffect)((function(){if(b&&(null===j||void 0===j?void 0:j.length))if("pricing"===n)(0,u.b)(b,"meal")?t.replace("/"):p(!1);else if("meal"===n){if(!(0,u.b)(b,"meal"))return t.replace("/pricing"),void(0,s.Z)("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u0627\u0644\u0627\u0634\u062a\u0631\u0627\u0643 \u0641\u064a \u0628\u0627\u0642\u0627\u062a \u0627\u0644\u0643\u064a\u062a\u0648","info");p(!1)}else(0,u.b)(b,n)?h(!0):h(!1),p(!1);(null===j||void 0===j?void 0:j.length)&&!b&&("pricing"===n?(m(!0),p(!1)):t.replace("/"))}),[b,j]),d?(0,r.jsx)(l.Z,{}):(0,r.jsx)(e,{user:b,isSubscriped:x,vistor:g})}}},9727:function(e,n,t){"use strict";t.d(n,{x:function(){return c}});var r=t(5893),i=t(5054),o=t(1163),l=t(155);function c(e){var n=e.path,t=e.client,c=e.onClick,u=(0,o.useRouter)();return(0,r.jsx)(i.zx,{onClick:function(){return c?c():u.replace(n)},position:"absolute",dir:"ltr",size:{base:"sm",md:"md"},width:{base:"100px",md:"120px"},leftIcon:(0,r.jsx)(l.Eg1,{fontSize:"25px"}),top:{base:t?"120px":"-1",md:t?"80px":"30px"},left:{base:"12px",md:"15px"},colorScheme:"yellow",color:"yellow.800",children:"\u0631\u062c\u0648\u0639"})}},4781:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(5893),i=t(8790),o=t(9609);function l(e){var n=e.text;return(0,r.jsxs)(i.kC,{p:"3",flex:"1",justifyContent:"center",flexDir:"column",alignItems:"center",children:[(0,r.jsx)(o.$,{transform:"translate(-50%, -50%)",thickness:"7px",speed:"0.65s",w:"8rem",h:"8rem",emptyColor:"orange.200",color:"orange.700"}),n&&(0,r.jsx)(i.xv,{children:n})]})}}},function(e){e.O(0,[260,445,617,874,21,774,888,179],(function(){return n=2691,e(e.s=n);var n}));var n=e.O();_N_E=n}]);